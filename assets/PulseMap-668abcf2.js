import{n as $r,aI as rh,ac as ih,ad as ah,aJ as oh,aK as sh,S as Tr,h as Cr,j as Pr,H as lh,a4 as uh,l as he,m as ot,N as ch,O as fh,P as hh,b as Y,t as X,o as K,F as dh,w as J,z as Q,Q as gh,Y as ph,A as tt,G as mh,aj as xi,ab as Mr,ak as $i,af as bh,ae as vh,k as Et,V as Je,x as zt,J as _h,K as ye,a2 as yh,_ as wh,a as zn,c as Nn,a9 as Sh,ai as Ar,a5 as de,ag as kh,ah as xh,u as Ir,R as $h,aL as Th,a7 as Ch,aE as Ph,aA as Mh,y as Ah,I as Ih,aM as Eh,aq as zh,aD as Nh,aN as Rh,q as Dh,an as Oe,ap as Ti,au as Er,U as Ci}from"./index-7ac78a91.js";import{g as Pi,r as Mi,w as zr,t as Ai,v as Ii,x as Ei,y as zi,e as Wh,u as Hh,A as Oh,G as Ni,H as Ri,q as Rn,B as Di,N as Li,C as Wi,c as Hi}from"./vfx-token-information-547c1af7.js";function Oi(t,e={}){let n,r;return a=>{const o=t,s=e.maxWait;if(n&&clearTimeout(n),o<=0||s!==void 0&&s<=0)return r&&(clearTimeout(r),r=null),a();s&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,a()},s)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,a()},o)}}function Bi(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function Fi(t,e=200,n={}){return Bi(Oi(e,n),t)}var Nr={exports:{}},ji=Nr.exports={};ji.forEach=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}};var Rr=Nr.exports,Vi=function(t){var e=t.stateHandler.getState;function n(o){var s=e(o);return s&&!!s.isDetectable}function r(o){e(o).isDetectable=!0}function i(o){return!!e(o).busy}function a(o,s){e(o).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},qi=function(t){var e={};function n(o){var s=t.get(o);return s===void 0?[]:e[s]||[]}function r(o,s){var u=t.get(o);e[u]||(e[u]=[]),e[u].push(s)}function i(o,s){for(var u=n(o),l=0,c=u.length;l<c;++l)if(u[l]===s){u.splice(l,1);break}}function a(o){var s=n(o);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},Ui=function(){var t=1;function e(){return t++}return{generate:e}},Xi=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function r(a){var o=n(a);return o&&o.id!==void 0?o.id:null}function i(a){var o=n(a);if(!o)throw new Error("setId required the element to have a resize detection state.");var s=e.generate();return o.id=s,s}return{get:r,set:i}},Yi=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var r=function(i,a){i[a]=function(){var s=console[a];if(s.apply)s.apply(console,arguments);else for(var u=0;u<arguments.length;u++)s(arguments[u])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Dr={exports:{}},Lr=Dr.exports={};Lr.isIE=function(t){function e(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var r,i=3,a=document.createElement("div"),o=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return i>4?i:r}();return t===n};Lr.isLegacyOpera=function(){return!!window.opera};var Wr=Dr.exports,Hr={exports:{}},Gi=Hr.exports={};Gi.getOption=Ki;function Ki(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}var Zi=Hr.exports,Dn=Zi,Ji=function(e){e=e||{};var n=e.reporter,r=Dn.getOption(e,"async",!0),i=Dn.getOption(e,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=Ln(),o,s=!1;function u(d,b){!s&&i&&r&&a.size()===0&&h(),a.add(d,b)}function l(){for(s=!0;a.size();){var d=a;a=Ln(),d.process()}s=!1}function c(d){s||(d===void 0&&(d=r),o&&(f(o),o=null),d?h():l())}function h(){o=g(l)}function f(d){var b=clearTimeout;return b(d)}function g(d){var b=function(_){return setTimeout(_,0)};return b(d)}return{add:u,force:c}};function Ln(){var t={},e=0,n=0,r=0;function i(s,u){u||(u=s,s=0),s>n?n=s:s<r&&(r=s),t[s]||(t[s]=[]),t[s].push(u),e++}function a(){for(var s=r;s<=n;s++)for(var u=t[s],l=0;l<u.length;l++){var c=u[l];c()}}function o(){return e}return{add:i,process:a,size:o}}var pn="_erd";function Qi(t){return t[pn]={},Or(t)}function Or(t){return t[pn]}function ta(t){delete t[pn]}var ea={initState:Qi,getState:Or,cleanState:ta},Gt=Wr,na=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(l,c){function h(){c(l)}if(Gt.isIE(8))r(l).object={proxy:h},l.attachEvent("onresize",h);else{var f=s(l);if(!f)throw new Error("Element is not detectable by this strategy.");f.contentDocument.defaultView.addEventListener("resize",h)}}function a(l){var c=t.important?" !important; ":"; ";return(l.join(c)+c).trim()}function o(l,c,h){h||(h=c,c=l,l=null),l=l||{},l.debug;function f(g,d){var b=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),_=!1,v=window.getComputedStyle(g),C=g.offsetWidth,P=g.offsetHeight;r(g).startSize={width:C,height:P};function w(){function m(){if(v.position==="static"){g.style.setProperty("position","relative",l.important?"important":"");var R=function(B,D,A,z){function N(k){return k.replace(/[^-\d\.]/g,"")}var p=A[z];p!=="auto"&&N(p)!=="0"&&(B.warn("An element that is positioned static has style."+z+"="+p+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+z+" will be set to 0. Element: ",D),D.style.setProperty(z,"0",l.important?"important":""))};R(e,g,v,"top"),R(e,g,v,"right"),R(e,g,v,"bottom"),R(e,g,v,"left")}}function x(){_||m();function R(D,A){if(!D.contentDocument){var z=r(D);z.checkForObjectDocumentTimeoutId&&window.clearTimeout(z.checkForObjectDocumentTimeoutId),z.checkForObjectDocumentTimeoutId=setTimeout(function(){z.checkForObjectDocumentTimeoutId=0,R(D,A)},100);return}A(D.contentDocument)}var B=this;R(B,function(A){d(g)})}v.position!==""&&(m(),_=!0);var S=document.createElement("object");S.style.cssText=b,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=x,Gt.isIE()||(S.data="about:blank"),r(g)&&(g.appendChild(S),r(g).object=S,Gt.isIE()&&(S.data="about:blank"))}n?n.add(w):w()}Gt.isIE(8)?h(c):f(c,h)}function s(l){return r(l).object}function u(l){if(r(l)){var c=s(l);c&&(Gt.isIE(8)?l.detachEvent("onresize",c.proxy):l.removeChild(c),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:o,addListener:i,uninstall:u}},ra=Rr.forEach,ia=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;t.stateHandler.hasState;var i=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=c(),o="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function u(w){h(w,o,s)}u(window.document);function l(w){var m=t.important?" !important; ":"; ";return(w.join(m)+m).trim()}function c(){var w=500,m=500,x=document.createElement("div");x.style.cssText=l(["position: absolute","width: "+w*2+"px","height: "+m*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+w+"px","height: "+m+"px","overflow: scroll","visibility: none","top: "+-w*3+"px","left: "+-m*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(x),document.body.insertBefore(S,document.body.firstChild);var R=w-S.clientWidth,B=m-S.clientHeight;return document.body.removeChild(S),{width:R,height:B}}function h(w,m,x){function S(A,z){z=z||function(p){w.head.appendChild(p)};var N=w.createElement("style");return N.innerHTML=A,N.id=m,z(N),N}if(!w.getElementById(m)){var R=x+"_animation",B=x+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+x+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,D+="."+B+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+R,"animation-name: "+R])+` }
`,D+="@-webkit-keyframes "+R+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+R+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(D)}}function f(w){w.className+=" "+s+"_animation_active"}function g(w,m,x){if(w.addEventListener)w.addEventListener(m,x);else if(w.attachEvent)w.attachEvent("on"+m,x);else return e.error("[scroll] Don't know how to add event listeners.")}function d(w,m,x){if(w.removeEventListener)w.removeEventListener(m,x);else if(w.detachEvent)w.detachEvent("on"+m,x);else return e.error("[scroll] Don't know how to remove event listeners.")}function b(w){return r(w).container.childNodes[0].childNodes[0].childNodes[0]}function _(w){return r(w).container.childNodes[0].childNodes[0].childNodes[1]}function v(w,m){var x=r(w).listeners;if(!x.push)throw new Error("Cannot add listener to an element that is not detectable.");r(w).listeners.push(m)}function C(w,m,x){x||(x=m,m=w,w=null),w=w||{};function S(){if(w.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(i.get(m),"Scroll: "),e.log.apply)e.log.apply(null,T);else for(var W=0;W<T.length;W++)e.log(T[W])}}function R(T){function W(V){var mt=V.getRootNode&&V.getRootNode().contains(V);return V===V.ownerDocument.body||V.ownerDocument.body.contains(V)||mt}return!W(T)||window.getComputedStyle(T)===null}function B(T){var W=r(T).container.childNodes[0],V=window.getComputedStyle(W);return!V.width||V.width.indexOf("px")===-1}function D(){var T=window.getComputedStyle(m),W={};return W.position=T.position,W.width=m.offsetWidth,W.height=m.offsetHeight,W.top=T.top,W.right=T.right,W.bottom=T.bottom,W.left=T.left,W.widthCSS=T.width,W.heightCSS=T.height,W}function A(){var T=D();r(m).startSize={width:T.width,height:T.height},S("Element start size",r(m).startSize)}function z(){r(m).listeners=[]}function N(){if(S("storeStyle invoked."),!r(m)){S("Aborting because element has been uninstalled");return}var T=D();r(m).style=T}function p(T,W,V){r(T).lastWidth=W,r(T).lastHeight=V}function k(T){return b(T).childNodes[0]}function y(){return 2*a.width+1}function $(){return 2*a.height+1}function E(T){return T+10+y()}function I(T){return T+10+$()}function L(T){return T*2+y()}function H(T){return T*2+$()}function F(T,W,V){var mt=b(T),Mt=_(T),Wt=E(W),Ht=I(V),it=L(W),O=H(V);mt.scrollLeft=Wt,mt.scrollTop=Ht,Mt.scrollLeft=it,Mt.scrollTop=O}function et(){var T=r(m).container;if(!T){T=document.createElement("div"),T.className=s,T.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(m).container=T,f(T),m.appendChild(T);var W=function(){r(m).onRendered&&r(m).onRendered()};g(T,"animationstart",W),r(m).onAnimationStart=W}return T}function q(){function T(){var U=r(m).style;if(U.position==="static"){m.style.setProperty("position","relative",w.important?"important":"");var wt=function(Bt,It,wi,fe){function Si(ki){return ki.replace(/[^-\d\.]/g,"")}var Ue=wi[fe];Ue!=="auto"&&Si(Ue)!=="0"&&(Bt.warn("An element that is positioned static has style."+fe+"="+Ue+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+fe+" will be set to 0. Element: ",It),It.style[fe]=0)};wt(e,m,U,"top"),wt(e,m,U,"right"),wt(e,m,U,"bottom"),wt(e,m,U,"left")}}function W(U,wt,Bt,It){return U=U?U+"px":"0",wt=wt?wt+"px":"0",Bt=Bt?Bt+"px":"0",It=It?It+"px":"0",["left: "+U,"top: "+wt,"right: "+It,"bottom: "+Bt]}if(S("Injecting elements"),!r(m)){S("Aborting because element has been uninstalled");return}T();var V=r(m).container;V||(V=et());var mt=a.width,Mt=a.height,Wt=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Ht=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(W(-(1+mt),-(1+Mt),-Mt,-mt))),it=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),O=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ut=l(["position: absolute","left: 0","top: 0"]),At=l(["position: absolute","width: 200%","height: 200%"]),_t=document.createElement("div"),yt=document.createElement("div"),Ot=document.createElement("div"),Mn=document.createElement("div"),ce=document.createElement("div"),An=document.createElement("div");_t.dir="ltr",_t.style.cssText=Wt,_t.className=s,yt.className=s,yt.style.cssText=Ht,Ot.style.cssText=it,Mn.style.cssText=ut,ce.style.cssText=O,An.style.cssText=At,Ot.appendChild(Mn),ce.appendChild(An),yt.appendChild(Ot),yt.appendChild(ce),_t.appendChild(yt),V.appendChild(_t);function In(){var U=r(m);U&&U.onExpand?U.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function En(){var U=r(m);U&&U.onShrink?U.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}g(Ot,"scroll",In),g(ce,"scroll",En),r(m).onExpandScroll=In,r(m).onShrinkScroll=En}function nt(){function T(it,O,ut){var At=k(it),_t=E(O),yt=I(ut);At.style.setProperty("width",_t+"px",w.important?"important":""),At.style.setProperty("height",yt+"px",w.important?"important":"")}function W(it){var O=m.offsetWidth,ut=m.offsetHeight,At=O!==r(m).lastWidth||ut!==r(m).lastHeight;S("Storing current size",O,ut),p(m,O,ut),n.add(0,function(){if(At){if(!r(m)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}if(w.debug){var yt=m.offsetWidth,Ot=m.offsetHeight;(yt!==O||Ot!==ut)&&e.warn(i.get(m),"Scroll: Size changed before updating detector elements.")}T(m,O,ut)}}),n.add(1,function(){if(!r(m)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}F(m,O,ut)}),At&&it&&n.add(2,function(){if(!r(m)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}it()})}function V(){return!!r(m).container}function mt(){function it(){return r(m).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var O=r(m);if(it()&&O.lastWidth===O.startSize.width&&O.lastHeight===O.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(O.lastWidth===O.lastNotifiedWidth&&O.lastHeight===O.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),O.lastNotifiedWidth=O.lastWidth,O.lastNotifiedHeight=O.lastHeight,ra(r(m).listeners,function(ut){ut(m)})}function Mt(){if(S("startanimation triggered."),B(m)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var it=b(m),O=_(m);(it.scrollLeft===0||it.scrollTop===0||O.scrollLeft===0||O.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),W(mt))}function Wt(){if(S("Scroll detected."),B(m)){S("Scroll event fired while unrendered. Ignoring...");return}W(mt)}if(S("registerListenersAndPositionElements invoked."),!r(m)){S("Aborting because element has been uninstalled");return}r(m).onRendered=Mt,r(m).onExpand=Wt,r(m).onShrink=Wt;var Ht=r(m).style;T(m,Ht.width,Ht.height)}function ft(){if(S("finalizeDomMutation invoked."),!r(m)){S("Aborting because element has been uninstalled");return}var T=r(m).style;p(m,T.width,T.height),F(m,T.width,T.height)}function rt(){x(m)}function lt(){S("Installing..."),z(),A(),n.add(0,N),n.add(1,q),n.add(2,nt),n.add(3,ft),n.add(4,rt)}S("Making detectable..."),R(m)?(S("Element is detached"),et(),S("Waiting until element is attached..."),r(m).onRendered=function(){S("Element is now attached"),lt()}):lt()}function P(w){var m=r(w);m&&(m.onExpandScroll&&d(b(w),"scroll",m.onExpandScroll),m.onShrinkScroll&&d(_(w),"scroll",m.onShrinkScroll),m.onAnimationStart&&d(m.container,"animationstart",m.onAnimationStart),m.container&&w.removeChild(m.container))}return{makeDetectable:C,addListener:v,uninstall:P,initDocument:u}},ne=Rr.forEach,aa=Vi,oa=qi,sa=Ui,la=Xi,ua=Yi,Wn=Wr,ca=Ji,Tt=ea,fa=na,ha=ia;function Hn(t){return Array.isArray(t)||t.length!==void 0}function On(t){if(Array.isArray(t))return t;var e=[];return ne(t,function(n){e.push(n)}),e}function Bn(t){return t&&t.nodeType===1}var da=function(t){t=t||{};var e;if(t.idHandler)e={get:function(C){return t.idHandler.get(C,!0)},set:t.idHandler.set};else{var n=sa(),r=la({idGenerator:n,stateHandler:Tt});e=r}var i=t.reporter;if(!i){var a=i===!1;i=ua(a)}var o=Ct(t,"batchProcessor",ca({reporter:i})),s={};s.callOnAdd=!!Ct(t,"callOnAdd",!0),s.debug=!!Ct(t,"debug",!1);var u=oa(e),l=aa({stateHandler:Tt}),c,h=Ct(t,"strategy","object"),f=Ct(t,"important",!1),g={reporter:i,batchProcessor:o,stateHandler:Tt,idHandler:e,important:f};if(h==="scroll"&&(Wn.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),h="object"):Wn.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),h="object")),h==="scroll")c=ha(g);else if(h==="object")c=fa(g);else throw new Error("Invalid strategy name: "+h);var d={};function b(C,P,w){function m(A){var z=u.get(A);ne(z,function(p){p(A)})}function x(A,z,N){u.add(z,N),A&&N(z)}if(w||(w=P,P=C,C={}),!P)throw new Error("At least one element required.");if(!w)throw new Error("Listener required.");if(Bn(P))P=[P];else if(Hn(P))P=On(P);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,R=Ct(C,"callOnAdd",s.callOnAdd),B=Ct(C,"onReady",function(){}),D=Ct(C,"debug",s.debug);ne(P,function(z){Tt.getState(z)||(Tt.initState(z),e.set(z));var N=e.get(z);if(D&&i.log("Attaching listener to element",N,z),!l.isDetectable(z)){if(D&&i.log(N,"Not detectable."),l.isBusy(z)){D&&i.log(N,"System busy making it detectable"),x(R,z,w),d[N]=d[N]||[],d[N].push(function(){S++,S===P.length&&B()});return}return D&&i.log(N,"Making detectable..."),l.markBusy(z,!0),c.makeDetectable({debug:D,important:f},z,function(k){if(D&&i.log(N,"onElementDetectable"),Tt.getState(k)){l.markAsDetectable(k),l.markBusy(k,!1),c.addListener(k,m),x(R,k,w);var y=Tt.getState(k);if(y&&y.startSize){var $=k.offsetWidth,E=k.offsetHeight;(y.startSize.width!==$||y.startSize.height!==E)&&m(k)}d[N]&&ne(d[N],function(I){I()})}else D&&i.log(N,"Element uninstalled before being detectable.");delete d[N],S++,S===P.length&&B()})}D&&i.log(N,"Already detecable, adding listener."),x(R,z,w),S++}),S===P.length&&B()}function _(C){if(!C)return i.error("At least one element is required.");if(Bn(C))C=[C];else if(Hn(C))C=On(C);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ne(C,function(P){u.removeAllListeners(P),c.uninstall(P),Tt.cleanState(P)})}function v(C){c.initDocument&&c.initDocument(C)}return{listenTo:b,removeListener:u.removeListener,removeAllListeners:u.removeAllListeners,uninstall:_,initDocument:v}};function Ct(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}const ga=Pi(da);var ge=ga({strategy:"scroll"});function pa(t,e){ge.listenTo(t,e);var n=e;return{update:function(r){ge.removeListener(t,n),ge.listenTo(t,r),n=r},destroy:function(){ge.removeListener(t,n)}}}var Qe="http://www.w3.org/1999/xhtml";const Fn={svg:"http://www.w3.org/2000/svg",xhtml:Qe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Be(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Fn.hasOwnProperty(e)?{space:Fn[e],local:t}:t}function ma(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qe&&e.documentElement.namespaceURI===Qe?e.createElement(t):e.createElementNS(n,t)}}function ba(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Br(t){var e=Be(t);return(e.local?ba:ma)(e)}function va(){}function mn(t){return t==null?va:function(){return this.querySelector(t)}}function _a(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new st(r,this._parents)}function ya(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wa(){return[]}function Fr(t){return t==null?wa:function(){return this.querySelectorAll(t)}}function Sa(t){return function(){return ya(t.apply(this,arguments))}}function ka(t){typeof t=="function"?t=Sa(t):t=Fr(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new st(r,i)}function jr(t){return function(){return this.matches(t)}}function Vr(t){return function(e){return e.matches(t)}}var xa=Array.prototype.find;function $a(t){return function(){return xa.call(this.children,t)}}function Ta(){return this.firstElementChild}function Ca(t){return this.select(t==null?Ta:$a(typeof t=="function"?t:Vr(t)))}var Pa=Array.prototype.filter;function Ma(){return Array.from(this.children)}function Aa(t){return function(){return Pa.call(this.children,t)}}function Ia(t){return this.selectAll(t==null?Ma:Aa(typeof t=="function"?t:Vr(t)))}function Ea(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new st(r,this._parents)}function qr(t){return new Array(t.length)}function za(){return new st(this._enter||this._groups.map(qr),this._parents)}function Te(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Te.prototype={constructor:Te,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Na(t){return function(){return t}}function Ra(t,e,n,r,i,a){for(var o=0,s,u=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Te(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function Da(t,e,n,r,i,a,o){var s,u,l=new Map,c=e.length,h=a.length,f=new Array(c),g;for(s=0;s<c;++s)(u=e[s])&&(f[s]=g=o.call(u,u.__data__,s,e)+"",l.has(g)?i[s]=u:l.set(g,u));for(s=0;s<h;++s)g=o.call(t,a[s],s,a)+"",(u=l.get(g))?(r[s]=u,u.__data__=a[s],l.delete(g)):n[s]=new Te(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(i[s]=u)}function La(t){return t.__data__}function Wa(t,e){if(!arguments.length)return Array.from(this,La);var n=e?Da:Ra,r=this._parents,i=this._groups;typeof t!="function"&&(t=Na(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,g=Ha(t.call(c,c&&c.__data__,l,r)),d=g.length,b=s[l]=new Array(d),_=o[l]=new Array(d),v=u[l]=new Array(f);n(c,h,b,_,v,g,e);for(var C=0,P=0,w,m;C<d;++C)if(w=b[C]){for(C>=P&&(P=C+1);!(m=_[P])&&++P<d;);w._next=m||null}}return o=new st(o,r),o._enter=s,o._exit=u,o}function Ha(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Oa(){return new st(this._exit||this._groups.map(qr),this._parents)}function Ba(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Fa(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],h=l.length,f=s[u]=new Array(h),g,d=0;d<h;++d)(g=l[d]||c[d])&&(f[d]=g);for(;u<i;++u)s[u]=n[u];return new st(s,this._parents)}function ja(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Va(t){t||(t=qa);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new st(i,this._parents).order()}function qa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ua(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xa(){return Array.from(this)}function Ya(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ga(){let t=0;for(const e of this)++t;return t}function Ka(){return!this.node()}function Za(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Ja(t){return function(){this.removeAttribute(t)}}function Qa(t){return function(){this.removeAttributeNS(t.space,t.local)}}function to(t,e){return function(){this.setAttribute(t,e)}}function eo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function no(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function ro(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function io(t,e){var n=Be(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Qa:Ja:typeof e=="function"?n.local?ro:no:n.local?eo:to)(n,e))}function Ur(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ao(t){return function(){this.style.removeProperty(t)}}function oo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function so(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function lo(t,e,n){return arguments.length>1?this.each((e==null?ao:typeof e=="function"?so:oo)(t,e,n??"")):qt(this.node(),t)}function qt(t,e){return t.style.getPropertyValue(e)||Ur(t).getComputedStyle(t,null).getPropertyValue(e)}function uo(t){return function(){delete this[t]}}function co(t,e){return function(){this[t]=e}}function fo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ho(t,e){return arguments.length>1?this.each((e==null?uo:typeof e=="function"?fo:co)(t,e)):this.node()[t]}function Xr(t){return t.trim().split(/^|\s+/)}function bn(t){return t.classList||new Yr(t)}function Yr(t){this._node=t,this._names=Xr(t.getAttribute("class")||"")}Yr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gr(t,e){for(var n=bn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Kr(t,e){for(var n=bn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function go(t){return function(){Gr(this,t)}}function po(t){return function(){Kr(this,t)}}function mo(t,e){return function(){(e.apply(this,arguments)?Gr:Kr)(this,t)}}function bo(t,e){var n=Xr(t+"");if(arguments.length<2){for(var r=bn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?mo:e?go:po)(n,e))}function vo(){this.textContent=""}function _o(t){return function(){this.textContent=t}}function yo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wo(t){return arguments.length?this.each(t==null?vo:(typeof t=="function"?yo:_o)(t)):this.node().textContent}function So(){this.innerHTML=""}function ko(t){return function(){this.innerHTML=t}}function xo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function $o(t){return arguments.length?this.each(t==null?So:(typeof t=="function"?xo:ko)(t)):this.node().innerHTML}function To(){this.nextSibling&&this.parentNode.appendChild(this)}function Co(){return this.each(To)}function Po(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mo(){return this.each(Po)}function Ao(t){var e=typeof t=="function"?t:Br(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Io(){return null}function Eo(t,e){var n=typeof t=="function"?t:Br(t),r=e==null?Io:typeof e=="function"?e:mn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function zo(){var t=this.parentNode;t&&t.removeChild(this)}function No(){return this.each(zo)}function Ro(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Do(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lo(t){return this.select(t?Do:Ro)}function Wo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ho(t){return function(e){t.call(this,e,this.__data__)}}function Oo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Bo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function Fo(t,e,n){return function(){var r=this.__on,i,a=Ho(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function jo(t,e,n){var r=Oo(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?Fo:Bo,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function Zr(t,e,n){var r=Ur(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Vo(t,e){return function(){return Zr(this,t,e)}}function qo(t,e){return function(){return Zr(this,t,e.apply(this,arguments))}}function Uo(t,e){return this.each((typeof e=="function"?qo:Vo)(t,e))}function*Xo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Jr=[null];function st(t,e){this._groups=t,this._parents=e}function Yt(){return new st([[document.documentElement]],Jr)}function Yo(){return this}st.prototype=Yt.prototype={constructor:st,select:_a,selectAll:ka,selectChild:Ca,selectChildren:Ia,filter:Ea,data:Wa,enter:za,exit:Oa,join:Ba,merge:Fa,selection:Yo,order:ja,sort:Va,call:Ua,nodes:Xa,node:Ya,size:Ga,empty:Ka,each:Za,attr:io,style:lo,property:ho,classed:bo,text:wo,html:$o,raise:Co,lower:Mo,append:Ao,insert:Eo,remove:No,clone:Lo,datum:Wo,on:jo,dispatch:Uo,[Symbol.iterator]:Xo};function ct(t){return typeof t=="string"?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],Jr)}function Go(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Pt(t,e){if(t=Go(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function we(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ko(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qr(t){let e,n,r;t.length!==2?(e=we,n=(s,u)=>we(t(s),u),r=(s,u)=>t(s)-u):(e=t===we||t===Ko?t:Zo,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:o,right:a}}function Zo(){return 0}function Jo(t){return t===null?NaN:+t}const Qo=Qr(we),ts=Qo.right;Qr(Jo).center;const es=ts,ns=Math.sqrt(50),rs=Math.sqrt(10),is=Math.sqrt(2);function Ce(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=ns?10:a>=rs?5:a>=is?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?Ce(t,e,n*2):[s,u,l]}function as(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Ce(e,t,n):Ce(t,e,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function tn(t,e,n){return e=+e,t=+t,n=+n,Ce(t,e,n)[2]}function os(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?tn(e,t,n):tn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ss(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ti(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ue(){}var oe=.7,Pe=1/oe,Vt="\\s*([+-]?\\d+)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ls=/^#([0-9a-f]{3,8})$/,us=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),cs=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),fs=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${se}\\)$`),hs=new RegExp(`^rgba\\(${bt},${bt},${bt},${se}\\)$`),ds=new RegExp(`^hsl\\(${se},${bt},${bt}\\)$`),gs=new RegExp(`^hsla\\(${se},${bt},${bt},${se}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vn(ue,Dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHex8:ps,formatHsl:ms,formatRgb:qn,toString:qn});function Vn(){return this.rgb().formatHex()}function ps(){return this.rgb().formatHex8()}function ms(){return ei(this).formatHsl()}function qn(){return this.rgb().formatRgb()}function Dt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ls.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Un(e):n===3?new Z(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=us.exec(t))?new Z(e[1],e[2],e[3],1):(e=cs.exec(t))?new Z(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=fs.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=hs.exec(t))?pe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ds.exec(t))?Gn(e[1],e[2]/100,e[3]/100,1):(e=gs.exec(t))?Gn(e[1],e[2]/100,e[3]/100,e[4]):jn.hasOwnProperty(t)?Un(jn[t]):t==="transparent"?new Z(NaN,NaN,NaN,0):null}function Un(t){return new Z(t>>16&255,t>>8&255,t&255,1)}function pe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Z(t,e,n,r)}function bs(t){return t instanceof ue||(t=Dt(t)),t?(t=t.rgb(),new Z(t.r,t.g,t.b,t.opacity)):new Z}function en(t,e,n,r){return arguments.length===1?bs(t):new Z(t,e,n,r??1)}function Z(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vn(Z,en,ti(ue,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Z(Rt(this.r),Rt(this.g),Rt(this.b),Me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:vs,formatRgb:Yn,toString:Yn}));function Xn(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function vs(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yn(){const t=Me(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function Me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function Gn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dt(t,e,n,r)}function ei(t){if(t instanceof dt)return new dt(t.h,t.s,t.l,t.opacity);if(t instanceof ue||(t=Dt(t)),!t)return new dt;if(t instanceof dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new dt(o,s,u,t.opacity)}function _s(t,e,n,r){return arguments.length===1?ei(t):new dt(t,e,n,r??1)}function dt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vn(dt,_s,ti(ue,{brighter(t){return t=t==null?Pe:Math.pow(Pe,t),new dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Z(Xe(t>=240?t-240:t+120,i,r),Xe(t,i,r),Xe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new dt(Kn(this.h),me(this.s),me(this.l),Me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Me(this.opacity);return`${t===1?"hsl(":"hsla("}${Kn(this.h)}, ${me(this.s)*100}%, ${me(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kn(t){return t=(t||0)%360,t<0?t+360:t}function me(t){return Math.max(0,Math.min(1,t||0))}function Xe(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _n=t=>()=>t;function ys(t,e){return function(n){return t+n*e}}function ws(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ss(t){return(t=+t)==1?ni:function(e,n){return n-e?ws(e,n,t):_n(isNaN(e)?n:e)}}function ni(t,e){var n=e-t;return n?ys(t,n):_n(isNaN(t)?e:t)}const Ae=function t(e){var n=Ss(e);function r(i,a){var o=n((i=en(i)).r,(a=en(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),l=ni(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function ks(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function xs(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $s(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Fe(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Ts(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function G(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cs(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fe(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ye=new RegExp(nn.source,"g");function Ps(t){return function(){return t}}function Ms(t){return function(e){return t(e)+""}}function ri(t,e){var n=nn.lastIndex=Ye.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=nn.exec(t))&&(i=Ye.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:G(r,i)})),n=Ye.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?Ms(u[0].x):Ps(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Fe(t,e){var n=typeof e,r;return e==null||n==="boolean"?_n(e):(n==="number"?G:n==="string"?(r=Dt(e))?(e=r,Ae):ri:e instanceof Dt?Ae:e instanceof Date?Ts:xs(e)?ks:Array.isArray(e)?$s:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Cs:G)(t,e)}function As(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Zn=180/Math.PI,rn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ii(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Zn,skewX:Math.atan(u)*Zn,scaleX:o,scaleY:s}}var be;function Is(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rn:ii(e.a,e.b,e.c,e.d,e.e,e.f)}function Es(t){return t==null||(be||(be=document.createElementNS("http://www.w3.org/2000/svg","g")),be.setAttribute("transform",t),!(t=be.transform.baseVal.consolidate()))?rn:(t=t.matrix,ii(t.a,t.b,t.c,t.d,t.e,t.f))}function ai(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,h,f,g,d){if(l!==h||c!==f){var b=g.push("translate(",null,e,null,n);d.push({i:b-4,x:G(l,h)},{i:b-2,x:G(c,f)})}else(h||f)&&g.push("translate("+h+e+f+n)}function o(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:G(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:G(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,g,d){if(l!==h||c!==f){var b=g.push(i(g)+"scale(",null,",",null,")");d.push({i:b-4,x:G(l,h)},{i:b-2,x:G(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,f),o(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(g){for(var d=-1,b=f.length,_;++d<b;)h[(_=f[d]).i]=_.x(g);return h.join("")}}}var zs=ai(Is,"px, ","px)","deg)"),Ns=ai(Es,", ",")",")"),Rs=1e-12;function Jn(t){return((t=Math.exp(t))+1/t)/2}function Ds(t){return((t=Math.exp(t))-1/t)/2}function Ls(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ws=function t(e,n,r){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],h=o[1],f=o[2],g=c-s,d=h-u,b=g*g+d*d,_,v;if(b<Rs)v=Math.log(f/l)/e,_=function(S){return[s+S*g,u+S*d,l*Math.exp(e*S*v)]};else{var C=Math.sqrt(b),P=(f*f-l*l+r*b)/(2*l*n*C),w=(f*f-l*l-r*b)/(2*f*n*C),m=Math.log(Math.sqrt(P*P+1)-P),x=Math.log(Math.sqrt(w*w+1)-w);v=(x-m)/e,_=function(S){var R=S*v,B=Jn(m),D=l/(n*C)*(B*Ls(e*R+m)-Ds(m));return[s+D*g,u+D*d,l*B/Jn(e*R+m)]}}return _.duration=v*1e3*e/Math.SQRT2,_}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return t(o,s,u)},i}(Math.SQRT2,2,4);function Hs(t){return function(){return t}}function Os(t){return+t}var Qn=[0,1];function Ft(t){return t}function an(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hs(isNaN(e)?NaN:.5)}function Bs(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fs(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=an(i,r),a=n(o,a)):(r=an(r,i),a=n(a,o)),function(s){return a(r(s))}}function js(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=an(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=es(t,s,1,r)-1;return a[u](i[u](s))}}function Vs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function qs(){var t=Qn,e=Qn,n=Fe,r,i,a,o=Ft,s,u,l;function c(){var f=Math.min(t.length,e.length);return o!==Ft&&(o=Bs(t[0],t[f-1])),s=f>2?js:Fs,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=s(e,t.map(r),G)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Os),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=As,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Ft,c()):o!==Ft},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,g){return r=f,i=g,c()}}function Us(){return qs()(Ft,Ft)}function Xs(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ie(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ut(t){return t=Ie(Math.abs(t)),t?t[1]:NaN}function Ys(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Gs(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ks=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ee(t){if(!(e=Ks.exec(t)))throw new Error("invalid format: "+t);var e;return new yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ee.prototype=yn.prototype;function yn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zs(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var oi;function Js(t,e){var n=Ie(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(oi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ie(t,Math.max(0,e+a-1))[0]}function tr(t,e){var n=Ie(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const er={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xs,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tr(t*100,e),r:tr,s:Js,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nr(t){return t}var rr=Array.prototype.map,ir=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Qs(t){var e=t.grouping===void 0||t.thousands===void 0?nr:Ys(rr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?nr:Gs(rr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Ee(h);var f=h.fill,g=h.align,d=h.sign,b=h.symbol,_=h.zero,v=h.width,C=h.comma,P=h.precision,w=h.trim,m=h.type;m==="n"?(C=!0,m="g"):er[m]||(P===void 0&&(P=12),w=!0,m="g"),(_||f==="0"&&g==="=")&&(_=!0,f="0",g="=");var x=b==="$"?n:b==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",S=b==="$"?r:/[%p]/.test(m)?o:"",R=er[m],B=/[defgprs%]/.test(m);P=P===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function D(A){var z=x,N=S,p,k,y;if(m==="c")N=R(A)+N,A="";else{A=+A;var $=A<0||1/A<0;if(A=isNaN(A)?u:R(Math.abs(A),P),w&&(A=Zs(A)),$&&+A==0&&d!=="+"&&($=!1),z=($?d==="("?d:s:d==="-"||d==="("?"":d)+z,N=(m==="s"?ir[8+oi/3]:"")+N+($&&d==="("?")":""),B){for(p=-1,k=A.length;++p<k;)if(y=A.charCodeAt(p),48>y||y>57){N=(y===46?i+A.slice(p+1):A.slice(p))+N,A=A.slice(0,p);break}}}C&&!_&&(A=e(A,1/0));var E=z.length+A.length+N.length,I=E<v?new Array(v-E+1).join(f):"";switch(C&&_&&(A=e(I+A,I.length?v-N.length:1/0),I=""),g){case"<":A=z+A+N+I;break;case"=":A=z+I+A+N;break;case"^":A=I.slice(0,E=I.length>>1)+z+A+N+I.slice(E);break;default:A=I+z+A+N;break}return a(A)}return D.toString=function(){return h+""},D}function c(h,f){var g=l((h=Ee(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(Ut(f)/3)))*3,b=Math.pow(10,-d),_=ir[8+d/3];return function(v){return g(b*v)+_}}return{format:l,formatPrefix:c}}var ve,si,li;tl({thousands:",",grouping:[3],currency:["$",""]});function tl(t){return ve=Qs(t),si=ve.format,li=ve.formatPrefix,ve}function el(t){return Math.max(0,-Ut(Math.abs(t)))}function nl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ut(e)/3)))*3-Ut(Math.abs(t)))}function rl(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ut(e)-Ut(t))+1}function il(t,e,n,r){var i=os(t,e,n),a;switch(r=Ee(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=nl(i,o))&&(r.precision=a),li(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=rl(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=el(i))&&(r.precision=a-(r.type==="%")*2);break}}return si(r)}function al(t){var e=t.domain;return t.ticks=function(n){var r=e();return as(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return il(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=tn(o,s,n),l===u)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function wn(){var t=Us();return t.copy=function(){return Vs(t,wn())},ss.apply(t,arguments),al(t)}function ol(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function sl(){return this.eachAfter(ol)}function ll(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function ul(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function cl(t,e){for(var n=this,r=[n],i=[],a,o,s,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function fl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function hl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function dl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function gl(t){for(var e=this,n=pl(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function pl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function ml(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function bl(){return Array.from(this)}function vl(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function _l(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*yl(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Sn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=kl)):e===void 0&&(e=Sl);for(var n=new ze(t),r,i=[n],a,o,s,u;r=i.pop();)if((o=e(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,s=u-1;s>=0;--s)i.push(a=o[s]=new ze(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore($l)}function wl(){return Sn(this).eachBefore(xl)}function Sl(t){return t.children}function kl(t){return Array.isArray(t)?t[1]:null}function xl(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function $l(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ze(t){this.data=t,this.depth=this.height=0,this.parent=null}ze.prototype=Sn.prototype={constructor:ze,count:sl,each:ll,eachAfter:cl,eachBefore:ul,find:fl,sum:hl,sort:dl,path:gl,ancestors:ml,descendants:bl,leaves:vl,links:_l,copy:wl,[Symbol.iterator]:yl};function Tl(t){if(typeof t!="function")throw new Error;return t}function Kt(){return 0}function Zt(t){return function(){return t}}function Cl(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Pl(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function Ml(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var Al=(1+Math.sqrt(5))/2;function Il(t,e,n,r,i,a){for(var o=[],s=e.children,u,l,c=0,h=0,f=s.length,g,d,b=e.value,_,v,C,P,w,m,x;c<f;){g=i-n,d=a-r;do _=s[h++].value;while(!_&&h<f);for(v=C=_,m=Math.max(d/g,g/d)/(b*t),x=_*_*m,w=Math.max(C/x,x/v);h<f;++h){if(_+=l=s[h].value,l<v&&(v=l),l>C&&(C=l),x=_*_*m,P=Math.max(C/x,x/v),P>w){_-=l;break}w=P}o.push(u={value:_,dice:g<d,children:s.slice(c,h)}),u.dice?Pl(u,n,r,i,b?r+=d*_/b:a):Ml(u,n,r,b?n+=g*_/b:i,a),b-=_,c=h}return o}const El=function t(e){function n(r,i,a,o,s){Il(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(Al);function zl(){var t=El,e=!1,n=1,r=1,i=[0],a=Kt,o=Kt,s=Kt,u=Kt,l=Kt;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(Cl),f}function h(f){var g=i[f.depth],d=f.x0+g,b=f.y0+g,_=f.x1-g,v=f.y1-g;_<d&&(d=_=(d+_)/2),v<b&&(b=v=(b+v)/2),f.x0=d,f.y0=b,f.x1=_,f.y1=v,f.children&&(g=i[f.depth+1]=a(f)/2,d+=l(f)-g,b+=o(f)-g,_-=s(f)-g,v-=u(f)-g,_<d&&(d=_=(d+_)/2),v<b&&(b=v=(b+v)/2),t(f,d,b,_,v))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=Tl(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Zt(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Zt(+f),c):s},c.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:Zt(+f),c):u},c.paddingLeft=function(f){return arguments.length?(l=typeof f=="function"?f:Zt(+f),c):l},c}var Nl={value:()=>{}};function kn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Se(n)}function Se(t){this._=t}function Rl(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Se.prototype=kn.prototype={constructor:Se,on:function(t,e){var n=this._,r=Rl(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Dl(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ar(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ar(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Se(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Dl(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ar(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Nl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Xt=0,re=0,Jt=0,ui=1e3,Ne,ie,Re=0,Lt=0,je=0,le=typeof performance=="object"&&performance.now?performance:Date,ci=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xn(){return Lt||(ci(Ll),Lt=le.now()+je)}function Ll(){Lt=0}function De(){this._call=this._time=this._next=null}De.prototype=fi.prototype={constructor:De,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xn():+n)+(e==null?0:+e),!this._next&&ie!==this&&(ie?ie._next=this:Ne=this,ie=this),this._call=t,this._time=n,on()},stop:function(){this._call&&(this._call=null,this._time=1/0,on())}};function fi(t,e,n){var r=new De;return r.restart(t,e,n),r}function Wl(){xn(),++Xt;for(var t=Ne,e;t;)(e=Lt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Xt}function or(){Lt=(Re=le.now())+je,Xt=re=0;try{Wl()}finally{Xt=0,Ol(),Lt=0}}function Hl(){var t=le.now(),e=t-Re;e>ui&&(je-=e,Re=t)}function Ol(){for(var t,e=Ne,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ne=n);ie=t,on(r)}function on(t){if(!Xt){re&&(re=clearTimeout(re));var e=t-Lt;e>24?(t<1/0&&(re=setTimeout(or,t-le.now()-je)),Jt&&(Jt=clearInterval(Jt))):(Jt||(Re=le.now(),Jt=setInterval(Hl,ui)),Xt=1,ci(or))}}function sr(t,e,n){var r=new De;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Bl=kn("start","end","cancel","interrupt"),Fl=[],hi=0,lr=1,sn=2,ke=3,ur=4,ln=5,xe=6;function Ve(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;jl(t,n,{name:e,index:r,group:i,on:Bl,tween:Fl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:hi})}function $n(t,e){var n=pt(t,e);if(n.state>hi)throw new Error("too late; already scheduled");return n}function vt(t,e){var n=pt(t,e);if(n.state>ke)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function jl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=fi(a,0,n.time);function a(l){n.state=lr,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,h,f,g;if(n.state!==lr)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ke)return sr(o);g.state===ur?(g.state=xe,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[c]):+c<e&&(g.state=xe,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[c])}if(sr(function(){n.state===ke&&(n.state=ur,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=sn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===sn){for(n.state=ke,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(g=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=ln,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===ln&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=xe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function $e(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>sn&&r.state<ln,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function Vl(t){return this.each(function(){$e(this,t)})}function ql(t,e){var n,r;return function(){var i=vt(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Ul(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=vt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Xl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ql:Ul)(n,t,e))}function Tn(t,e,n){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function di(t,e){var n;return(typeof e=="number"?G:e instanceof Dt?Ae:(n=Dt(e))?(e=n,Ae):ri)(t,e)}function Yl(t){return function(){this.removeAttribute(t)}}function Gl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kl(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Zl(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Jl(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function Ql(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function tu(t,e){var n=Be(t),r=n==="transform"?Ns:di;return this.attrTween(t,typeof e=="function"?(n.local?Ql:Jl)(n,r,Tn(this,"attr."+t,e)):e==null?(n.local?Gl:Yl)(n):(n.local?Zl:Kl)(n,r,e))}function eu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function nu(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ru(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&nu(t,a)),n}return i._value=e,i}function iu(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&eu(t,a)),n}return i._value=e,i}function au(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Be(t);return this.tween(n,(r.local?ru:iu)(r,e))}function ou(t,e){return function(){$n(this,t).delay=+e.apply(this,arguments)}}function su(t,e){return e=+e,function(){$n(this,t).delay=e}}function lu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ou:su)(e,t)):pt(this.node(),e).delay}function uu(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function cu(t,e){return e=+e,function(){vt(this,t).duration=e}}function fu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?uu:cu)(e,t)):pt(this.node(),e).duration}function hu(t,e){if(typeof e!="function")throw new Error;return function(){vt(this,t).ease=e}}function du(t){var e=this._id;return arguments.length?this.each(hu(e,t)):pt(this.node(),e).ease}function gu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,t).ease=n}}function pu(t){if(typeof t!="function")throw new Error;return this.each(gu(this._id,t))}function mu(t){typeof t!="function"&&(t=jr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new $t(r,this._parents,this._name,this._id)}function bu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,g=0;g<c;++g)(f=u[g]||l[g])&&(h[g]=f);for(;s<r;++s)o[s]=e[s];return new $t(o,this._parents,this._name,this._id)}function vu(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function _u(t,e,n){var r,i,a=vu(e)?$n:vt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function yu(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(_u(n,t,e))}function wu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Su(){return this.on("end.remove",wu(this._id))}function ku(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Ve(l[f],e,n,f,l,pt(c,n)));return new $t(a,this._parents,e,n)}function xu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fr(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),g,d=pt(c,n),b=0,_=f.length;b<_;++b)(g=f[b])&&Ve(g,e,n,b,f,d);a.push(f),o.push(c)}return new $t(a,o,e,n)}var $u=Yt.prototype.constructor;function Tu(){return new $u(this._groups,this._parents)}function Cu(t,e){var n,r,i;return function(){var a=qt(this,t),o=(this.style.removeProperty(t),qt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function gi(t){return function(){this.style.removeProperty(t)}}function Pu(t,e,n){var r,i=n+"",a;return function(){var o=qt(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Mu(t,e,n){var r,i,a;return function(){var o=qt(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),qt(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Au(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=vt(this,t),l=u.on,c=u.value[a]==null?s||(s=gi(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Iu(t,e,n){var r=(t+="")=="transform"?zs:di;return e==null?this.styleTween(t,Cu(t,r)).on("end.style."+t,gi(t)):typeof e=="function"?this.styleTween(t,Mu(t,r,Tn(this,"style."+t,e))).each(Au(this._id,t)):this.styleTween(t,Pu(t,r,e),n).on("end.style."+t,null)}function Eu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zu(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Eu(t,o,n)),r}return a._value=e,a}function Nu(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,zu(t,e,n??""))}function Ru(t){return function(){this.textContent=t}}function Du(t){return function(){var e=t(this);this.textContent=e??""}}function Lu(t){return this.tween("text",typeof t=="function"?Du(Tn(this,"text",t)):Ru(t==null?"":t+""))}function Wu(t){return function(e){this.textContent=t.call(this,e)}}function Hu(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Wu(i)),e}return r._value=t,r}function Ou(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Hu(t))}function Bu(){for(var t=this._name,e=this._id,n=pi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=pt(u,e);Ve(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new $t(r,this._parents,t,n)}function Fu(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var l=vt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&a()})}var ju=0;function $t(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Cn(t){return Yt().transition(t)}function pi(){return++ju}var St=Yt.prototype;$t.prototype=Cn.prototype={constructor:$t,select:ku,selectAll:xu,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:mu,merge:bu,selection:Tu,transition:Bu,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:yu,attr:tu,attrTween:au,style:Iu,styleTween:Nu,text:Lu,textTween:Ou,remove:Su,tween:Xl,delay:lu,duration:fu,ease:du,easeVarying:pu,end:Fu,[Symbol.iterator]:St[Symbol.iterator]};function Vu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qu={time:null,delay:0,duration:250,ease:Vu};function Uu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Xu(t){var e,n;t instanceof $t?(e=t._id,t=t._name):(e=pi(),(n=qu).time=xn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&Ve(u,t,e,l,o,n||Uu(u,e));return new $t(r,this._parents,t,e)}Yt.prototype.interrupt=Vl;Yt.prototype.transition=Xu;const un={capture:!0,passive:!1};function cn(t){t.preventDefault(),t.stopImmediatePropagation()}function Yu(t){var e=t.document.documentElement,n=ct(t).on("dragstart.drag",cn,un);"onselectstart"in e?n.on("selectstart.drag",cn,un):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Gu(t,e){var n=t.document.documentElement,r=ct(t).on("dragstart.drag",null);e&&(r.on("click.drag",cn,un),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _e=t=>()=>t;function Ku(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xt(t,e,n){this.k=t,this.x=e,this.y=n}xt.prototype={constructor:xt,scale:function(t){return t===1?this:new xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Le=new xt(1,0,0);xt.prototype;function Ge(t){t.stopImmediatePropagation()}function Qt(t){t.preventDefault(),t.stopImmediatePropagation()}function Zu(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Ju(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function cr(){return this.__zoom||Le}function Qu(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function tc(){return navigator.maxTouchPoints||"ontouchstart"in this}function ec(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function nc(){var t=Zu,e=Ju,n=ec,r=Qu,i=tc,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Ws,l=kn("start","zoom","end"),c,h,f,g=500,d=150,b=0,_=10;function v(p){p.property("__zoom",cr).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(p,k,y,$){var E=p.selection?p.selection():p;E.property("__zoom",cr),p!==E?m(p,k,y,$):E.interrupt().each(function(){x(this,arguments).event($).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},v.scaleBy=function(p,k,y,$){v.scaleTo(p,function(){var E=this.__zoom.k,I=typeof k=="function"?k.apply(this,arguments):k;return E*I},y,$)},v.scaleTo=function(p,k,y,$){v.transform(p,function(){var E=e.apply(this,arguments),I=this.__zoom,L=y==null?w(E):typeof y=="function"?y.apply(this,arguments):y,H=I.invert(L),F=typeof k=="function"?k.apply(this,arguments):k;return n(P(C(I,F),L,H),E,o)},y,$)},v.translateBy=function(p,k,y,$){v.transform(p,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof y=="function"?y.apply(this,arguments):y),e.apply(this,arguments),o)},null,$)},v.translateTo=function(p,k,y,$,E){v.transform(p,function(){var I=e.apply(this,arguments),L=this.__zoom,H=$==null?w(I):typeof $=="function"?$.apply(this,arguments):$;return n(Le.translate(H[0],H[1]).scale(L.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof y=="function"?-y.apply(this,arguments):-y),I,o)},$,E)};function C(p,k){return k=Math.max(a[0],Math.min(a[1],k)),k===p.k?p:new xt(k,p.x,p.y)}function P(p,k,y){var $=k[0]-y[0]*p.k,E=k[1]-y[1]*p.k;return $===p.x&&E===p.y?p:new xt(p.k,$,E)}function w(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function m(p,k,y,$){p.on("start.zoom",function(){x(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event($).end()}).tween("zoom",function(){var E=this,I=arguments,L=x(E,I).event($),H=e.apply(E,I),F=y==null?w(H):typeof y=="function"?y.apply(E,I):y,et=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),q=E.__zoom,nt=typeof k=="function"?k.apply(E,I):k,ft=u(q.invert(F).concat(et/q.k),nt.invert(F).concat(et/nt.k));return function(rt){if(rt===1)rt=nt;else{var lt=ft(rt),T=et/lt[2];rt=new xt(T,F[0]-lt[0]*T,F[1]-lt[1]*T)}L.zoom(null,rt)}})}function x(p,k,y){return!y&&p.__zooming||new S(p,k)}function S(p,k){this.that=p,this.args=k,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,k),this.taps=0}S.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,k){return this.mouse&&p!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var k=ct(this.that).datum();l.call(p,this.that,new Ku(p,{sourceEvent:this.sourceEvent,target:v,type:p,transform:this.that.__zoom,dispatch:l}),k)}};function R(p,...k){if(!t.apply(this,arguments))return;var y=x(this,k).event(p),$=this.__zoom,E=Math.max(a[0],Math.min(a[1],$.k*Math.pow(2,r.apply(this,arguments)))),I=Pt(p);if(y.wheel)(y.mouse[0][0]!==I[0]||y.mouse[0][1]!==I[1])&&(y.mouse[1]=$.invert(y.mouse[0]=I)),clearTimeout(y.wheel);else{if($.k===E)return;y.mouse=[I,$.invert(I)],$e(this),y.start()}Qt(p),y.wheel=setTimeout(L,d),y.zoom("mouse",n(P(C($,E),y.mouse[0],y.mouse[1]),y.extent,o));function L(){y.wheel=null,y.end()}}function B(p,...k){if(f||!t.apply(this,arguments))return;var y=p.currentTarget,$=x(this,k,!0).event(p),E=ct(p.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",et,!0),I=Pt(p,y),L=p.clientX,H=p.clientY;Yu(p.view),Ge(p),$.mouse=[I,this.__zoom.invert(I)],$e(this),$.start();function F(q){if(Qt(q),!$.moved){var nt=q.clientX-L,ft=q.clientY-H;$.moved=nt*nt+ft*ft>b}$.event(q).zoom("mouse",n(P($.that.__zoom,$.mouse[0]=Pt(q,y),$.mouse[1]),$.extent,o))}function et(q){E.on("mousemove.zoom mouseup.zoom",null),Gu(q.view,$.moved),Qt(q),$.event(q).end()}}function D(p,...k){if(t.apply(this,arguments)){var y=this.__zoom,$=Pt(p.changedTouches?p.changedTouches[0]:p,this),E=y.invert($),I=y.k*(p.shiftKey?.5:2),L=n(P(C(y,I),$,E),e.apply(this,k),o);Qt(p),s>0?ct(this).transition().duration(s).call(m,L,$,p):ct(this).call(v.transform,L,$,p)}}function A(p,...k){if(t.apply(this,arguments)){var y=p.touches,$=y.length,E=x(this,k,p.changedTouches.length===$).event(p),I,L,H,F;for(Ge(p),L=0;L<$;++L)H=y[L],F=Pt(H,this),F=[F,this.__zoom.invert(F),H.identifier],E.touch0?!E.touch1&&E.touch0[2]!==F[2]&&(E.touch1=F,E.taps=0):(E.touch0=F,I=!0,E.taps=1+!!c);c&&(c=clearTimeout(c)),I&&(E.taps<2&&(h=F[0],c=setTimeout(function(){c=null},g)),$e(this),E.start())}}function z(p,...k){if(this.__zooming){var y=x(this,k).event(p),$=p.changedTouches,E=$.length,I,L,H,F;for(Qt(p),I=0;I<E;++I)L=$[I],H=Pt(L,this),y.touch0&&y.touch0[2]===L.identifier?y.touch0[0]=H:y.touch1&&y.touch1[2]===L.identifier&&(y.touch1[0]=H);if(L=y.that.__zoom,y.touch1){var et=y.touch0[0],q=y.touch0[1],nt=y.touch1[0],ft=y.touch1[1],rt=(rt=nt[0]-et[0])*rt+(rt=nt[1]-et[1])*rt,lt=(lt=ft[0]-q[0])*lt+(lt=ft[1]-q[1])*lt;L=C(L,Math.sqrt(rt/lt)),H=[(et[0]+nt[0])/2,(et[1]+nt[1])/2],F=[(q[0]+ft[0])/2,(q[1]+ft[1])/2]}else if(y.touch0)H=y.touch0[0],F=y.touch0[1];else return;y.zoom("touch",n(P(L,H,F),y.extent,o))}}function N(p,...k){if(this.__zooming){var y=x(this,k).event(p),$=p.changedTouches,E=$.length,I,L;for(Ge(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),I=0;I<E;++I)L=$[I],y.touch0&&y.touch0[2]===L.identifier?delete y.touch0:y.touch1&&y.touch1[2]===L.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(L=Pt(L,this),Math.hypot(h[0]-L[0],h[1]-L[1])<_)){var H=ct(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return v.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:_e(+p),v):r},v.filter=function(p){return arguments.length?(t=typeof p=="function"?p:_e(!!p),v):t},v.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:_e(!!p),v):i},v.extent=function(p){return arguments.length?(e=typeof p=="function"?p:_e([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),v):e},v.scaleExtent=function(p){return arguments.length?(a[0]=+p[0],a[1]=+p[1],v):[a[0],a[1]]},v.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],v):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},v.constrain=function(p){return arguments.length?(n=p,v):n},v.duration=function(p){return arguments.length?(s=+p,v):s},v.interpolate=function(p){return arguments.length?(u=p,v):u},v.on=function(){var p=l.on.apply(l,arguments);return p===l?v:p},v.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,v):Math.sqrt(b)},v.tapDistance=function(p){return arguments.length?(_=+p,v):_},v}var rc=typeof global=="object"&&global&&global.Object===Object&&global;const ic=rc;var ac=typeof self=="object"&&self&&self.Object===Object&&self,oc=ic||ac||Function("return this")();const mi=oc;var sc=mi.Symbol;const We=sc;var bi=Object.prototype,lc=bi.hasOwnProperty,uc=bi.toString,te=We?We.toStringTag:void 0;function cc(t){var e=lc.call(t,te),n=t[te];try{t[te]=void 0;var r=!0}catch{}var i=uc.call(t);return r&&(e?t[te]=n:delete t[te]),i}var fc=Object.prototype,hc=fc.toString;function dc(t){return hc.call(t)}var gc="[object Null]",pc="[object Undefined]",fr=We?We.toStringTag:void 0;function mc(t){return t==null?t===void 0?pc:gc:fr&&fr in Object(t)?cc(t):dc(t)}function bc(t){return t!=null&&typeof t=="object"}var vc="[object Symbol]";function _c(t){return typeof t=="symbol"||bc(t)&&mc(t)==vc}var yc=/\s/;function wc(t){for(var e=t.length;e--&&yc.test(t.charAt(e)););return e}var Sc=/^\s+/;function kc(t){return t&&t.slice(0,wc(t)+1).replace(Sc,"")}function fn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hr=0/0,xc=/^[-+]0x[0-9a-f]+$/i,$c=/^0b[01]+$/i,Tc=/^0o[0-7]+$/i,Cc=parseInt;function dr(t){if(typeof t=="number")return t;if(_c(t))return hr;if(fn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kc(t);var n=$c.test(t);return n||Tc.test(t)?Cc(t.slice(2),n?2:8):xc.test(t)?hr:+t}var Pc=function(){return mi.Date.now()};const Ke=Pc;var Mc="Expected a function",Ac=Math.max,Ic=Math.min;function Ec(t,e,n){var r,i,a,o,s,u,l=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Mc);e=dr(e)||0,fn(n)&&(c=!!n.leading,h="maxWait"in n,a=h?Ac(dr(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function g(x){var S=r,R=i;return r=i=void 0,l=x,o=t.apply(R,S),o}function d(x){return l=x,s=setTimeout(v,e),c?g(x):o}function b(x){var S=x-u,R=x-l,B=e-S;return h?Ic(B,a-R):B}function _(x){var S=x-u,R=x-l;return u===void 0||S>=e||S<0||h&&R>=a}function v(){var x=Ke();if(_(x))return C(x);s=setTimeout(v,b(x))}function C(x){return s=void 0,f&&r?g(x):(r=i=void 0,o)}function P(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function w(){return s===void 0?o:C(Ke())}function m(){var x=Ke(),S=_(x);if(r=arguments,i=this,u=x,S){if(s===void 0)return d(u);if(h)return clearTimeout(s),s=setTimeout(v,e),g(u)}return s===void 0&&(s=setTimeout(v,e)),o}return m.cancel=P,m.flush=w,m}function zc(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Nc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bc(r.key),r)}}function Rc(t,e,n){return e&&gr(t.prototype,e),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dc(t,e){return Lc(t)||zc(t,e)||Wc(t,e)||Hc()}function Lc(t){if(Array.isArray(t))return t}function Wc(t,e){if(t){if(typeof t=="string")return pr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(t,e)}}function pr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oc(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bc(t){var e=Oc(t,"string");return typeof e=="symbol"?e:String(e)}var Fc=Rc(function t(e,n){var r=n.default,i=r===void 0?null:r,a=n.triggerUpdate,o=a===void 0?!0:a,s=n.onChange,u=s===void 0?function(l,c){}:s;Nc(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=o,this.onChange=u});function Pn(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,r=t.props,i=r===void 0?{}:r,a=t.methods,o=a===void 0?{}:a,s=t.aliases,u=s===void 0?{}:s,l=t.init,c=l===void 0?function(){}:l,h=t.update,f=h===void 0?function(){}:h,g=Object.keys(i).map(function(d){return new Fc(d,i[d])});return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=Object.assign({},n instanceof Function?n(d):n,{initialised:!1}),_={};function v(w){return C(w,d),P(),v}var C=function(m,x){c.call(v,m,b,x),b.initialised=!0},P=Ec(function(){b.initialised&&(f.call(v,b,_),_={})},1);return g.forEach(function(w){v[w.name]=m(w);function m(x){var S=x.name,R=x.triggerUpdate,B=R===void 0?!1:R,D=x.onChange,A=D===void 0?function(p,k){}:D,z=x.defaultVal,N=z===void 0?null:z;return function(p){var k=b[S];if(!arguments.length)return k;var y=p===void 0?N:p;return b[S]=y,A.call(v,y,b,k),!_.hasOwnProperty(S)&&(_[S]=k),B&&P(),v}}}),Object.keys(o).forEach(function(w){v[w]=function(){for(var m,x=arguments.length,S=new Array(x),R=0;R<x;R++)S[R]=arguments[R];return(m=o[w]).call.apply(m,[v,b].concat(S))}}),Object.entries(u).forEach(function(w){var m=Dc(w,2),x=m[0],S=m[1];return v[x]=v[S]}),v.resetProps=function(){return g.forEach(function(w){v[w.name](w.defaultVal)}),v},v.resetProps(),b._rerender=P,v}}function mr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mr(Object(n),!0).forEach(function(r){jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(t)}function jc(t,e,n){return e=qc(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vc(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qc(t){var e=Vc(t,"string");return typeof e=="symbol"?e:String(e)}var Uc=Pn({props:{htmlEl:{onChange:function(e,n){n.htmlEls=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r:ct(r)})},triggerUpdate:!1},svgEl:{onChange:function(e,n){n.svgEls=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r:ct(r)})},triggerUpdate:!1},canvasEl:{onChange:function(e,n){n.canvasCtxs=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r.node().getContext("2d"):r.getContext("2d")})},triggerUpdate:!1},enableX:{default:!0,triggerUpdate:!1},enableY:{default:!0,triggerUpdate:!1},scaleExtent:{default:[1,1/0],onChange:function(e,n){e&&n.zoom.scaleExtent(e)},triggerUpdate:!1},translateExtent:{onChange:function(e,n){e&&n.zoom.translateExtent(e)},triggerUpdate:!1},onChange:{triggerUpdate:!1}},methods:{current:function(e){return Ze({},e.zoomTransform)},zoomBy:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e.initialised&&(e.transitionDuration=r,e.el.call(e.zoom.scaleBy,n)),this},zoomReset:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.initialised&&(e.transitionDuration=n,e.el.call(e.zoom.transform,Le)),this},zoomTo:function(e,n){var r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.k,u=s===void 0?1:s,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e.initialised&&(e.transitionDuration=l,e.el.call(e.zoom.transform,Le.scale(u).translate(i,o))),this}},stateInit:function(){return{zoom:nc().filter(function(e){return!e.button&&!e.dblclick}),zoomTransform:{x:0,y:0,k:1}}},init:function(e,n){var r=!!e&&jt(e)==="object"&&!!e.node&&typeof e.node=="function";n.el=ct(r?e.node():e),n.el.call(n.zoom.on("zoom",function(i){var a=Ze({},i.transform);!n.enableX&&(a.x=0),!n.enableY&&(a.y=0);var o=n.zoomTransform;n.zoomTransform=a;var s=n.transitionDuration||0;n.transitionDuration=0;var u=n.enableX?a.k:1,l=n.enableY?a.k:1;n.htmlEls.forEach(function(c){(s?c.transition().duration(s):c).style("transform","translate(".concat(a.x,"px, ").concat(a.y,"px) scale(").concat(u,", ").concat(l,")"))}),n.svgEls.forEach(function(c){(s?c.transition().duration(s):c).attr("transform","translate(".concat(a.x,", ").concat(a.y,") scale(").concat(u,", ").concat(l,")"))}),n.canvasCtxs.forEach(function(c,h){var f=function(d){var b=d.x,_=d.y,v=d.scX,C=d.scY;c.setTransform(v,0,0,C,b,_)};s?Cn().duration(s).tween("animate-ctx-".concat(h),function(){var g=G(o.x,a.x),d=G(o.y,a.y),b=n.enableX?G(o.k,a.k):function(){return 1},_=n.enableY?G(o.k,a.k):function(){return 1};return function(v){return f({x:g(v),y:d(v),scX:b(v),scY:_(v)})}}):f(Ze({scX:u,scY:l},a))}),n.onChange&&n.onChange(a,o,s)})),n.el.on("dblclick.zoom",null)}});function He(t){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(t)}var Xc=/^\s+/,Yc=/\s+$/;function M(t,e){if(t=t||"",e=e||{},t instanceof M)return t;if(!(this instanceof M))return new M(t,e);var n=Gc(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}M.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,a,o,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=vi(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=vr(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=vr(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=br(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=br(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return _r(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Qc(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(j(this._r,255)*100)+"%",g:Math.round(j(this._g,255)*100)+"%",b:Math.round(j(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%)":"rgba("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hf[_r(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+yr(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=M(e);r="#"+yr(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return M(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(rf,arguments)},brighten:function(){return this._applyModification(af,arguments)},darken:function(){return this._applyModification(of,arguments)},desaturate:function(){return this._applyModification(tf,arguments)},saturate:function(){return this._applyModification(ef,arguments)},greyscale:function(){return this._applyModification(nf,arguments)},spin:function(){return this._applyModification(sf,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(cf,arguments)},complement:function(){return this._applyCombination(lf,arguments)},monochromatic:function(){return this._applyCombination(ff,arguments)},splitcomplement:function(){return this._applyCombination(uf,arguments)},triad:function(){return this._applyCombination(wr,[3])},tetrad:function(){return this._applyCombination(wr,[4])}};M.fromRatio=function(t,e){if(He(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ae(t[r]));t=n}return M(t,e)};function Gc(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=mf(t)),He(t)=="object"&&(kt(t.r)&&kt(t.g)&&kt(t.b)?(e=Kc(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):kt(t.h)&&kt(t.s)&&kt(t.v)?(r=ae(t.s),i=ae(t.v),e=Jc(t.h,r,i),o=!0,s="hsv"):kt(t.h)&&kt(t.s)&&kt(t.l)&&(r=ae(t.s),a=ae(t.l),e=Zc(t.h,r,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=vi(n),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Kc(t,e,n){return{r:j(t,255)*255,g:j(e,255)*255,b:j(n,255)*255}}function br(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,o,s=(r+i)/2;if(r==i)a=o=0;else{var u=r-i;switch(o=s>.5?u/(2-r-i):u/(r+i),r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,l:s}}function Zc(t,e,n){var r,i,a;t=j(t,360),e=j(e,100),n=j(n,100);function o(l,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(c-l)*6*h:h<1/2?c:h<2/3?l+(c-l)*(2/3-h)*6:l}if(e===0)r=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=o(u,s,t+1/3),i=o(u,s,t),a=o(u,s,t-1/3)}return{r:r*255,g:i*255,b:a*255}}function vr(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,o,s=r,u=r-i;if(o=r===0?0:u/r,r==i)a=0;else{switch(r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,v:s}}function Jc(t,e,n){t=j(t,360)*6,e=j(e,100),n=j(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6,l=[n,o,a,a,s,n][u],c=[s,n,n,o,a,a][u],h=[a,a,s,n,n,o][u];return{r:l*255,g:c*255,b:h*255}}function _r(t,e,n,r){var i=[gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Qc(t,e,n,r,i){var a=[gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16)),gt(_i(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function yr(t,e,n,r){var i=[gt(_i(r)),gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16))];return i.join("")}M.equals=function(t,e){return!t||!e?!1:M(t).toRgbString()==M(e).toRgbString()};M.random=function(){return M.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function tf(t,e){e=e===0?0:e||10;var n=M(t).toHsl();return n.s-=e/100,n.s=qe(n.s),M(n)}function ef(t,e){e=e===0?0:e||10;var n=M(t).toHsl();return n.s+=e/100,n.s=qe(n.s),M(n)}function nf(t){return M(t).desaturate(100)}function rf(t,e){e=e===0?0:e||10;var n=M(t).toHsl();return n.l+=e/100,n.l=qe(n.l),M(n)}function af(t,e){e=e===0?0:e||10;var n=M(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),M(n)}function of(t,e){e=e===0?0:e||10;var n=M(t).toHsl();return n.l-=e/100,n.l=qe(n.l),M(n)}function sf(t,e){var n=M(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,M(n)}function lf(t){var e=M(t).toHsl();return e.h=(e.h+180)%360,M(e)}function wr(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=M(t).toHsl(),r=[M(t)],i=360/e,a=1;a<e;a++)r.push(M({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function uf(t){var e=M(t).toHsl(),n=e.h;return[M(t),M({h:(n+72)%360,s:e.s,l:e.l}),M({h:(n+216)%360,s:e.s,l:e.l})]}function cf(t,e,n){e=e||6,n=n||30;var r=M(t).toHsl(),i=360/n,a=[M(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(M(r));return a}function ff(t,e){e=e||6;for(var n=M(t).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/e;e--;)o.push(M({h:r,s:i,v:a})),a=(a+s)%1;return o}M.mix=function(t,e,n){n=n===0?0:n||50;var r=M(t).toRgb(),i=M(e).toRgb(),a=n/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return M(o)};M.readability=function(t,e){var n=M(t),r=M(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};M.isReadable=function(t,e,n){var r=M.readability(t,e),i,a;switch(a=!1,i=bf(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};M.mostReadable=function(t,e,n){var r=null,i=0,a,o,s,u;n=n||{},o=n.includeFallbackColors,s=n.level,u=n.size;for(var l=0;l<e.length;l++)a=M.readability(t,e[l]),a>i&&(i=a,r=M(e[l]));return M.isReadable(t,r,{level:s,size:u})||!o?r:(n.includeFallbackColors=!1,M.mostReadable(t,["#fff","#000"],n))};var hn=M.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hf=M.hexNames=df(hn);function df(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function vi(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){gf(t)&&(t="100%");var n=pf(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function qe(t){return Math.min(1,Math.max(0,t))}function at(t){return parseInt(t,16)}function gf(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function pf(t){return typeof t=="string"&&t.indexOf("%")!=-1}function gt(t){return t.length==1?"0"+t:""+t}function ae(t){return t<=1&&(t=t*100+"%"),t}function _i(t){return Math.round(parseFloat(t)*255).toString(16)}function Sr(t){return at(t)/255}var ht=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function kt(t){return!!ht.CSS_UNIT.exec(t)}function mf(t){t=t.replace(Xc,"").replace(Yc,"").toLowerCase();var e=!1;if(hn[t])t=hn[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ht.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ht.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ht.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ht.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ht.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ht.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ht.hex8.exec(t))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),a:Sr(n[4]),format:e?"name":"hex8"}:(n=ht.hex6.exec(t))?{r:at(n[1]),g:at(n[2]),b:at(n[3]),format:e?"name":"hex"}:(n=ht.hex4.exec(t))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),a:Sr(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ht.hex3.exec(t))?{r:at(n[1]+""+n[1]),g:at(n[2]+""+n[2]),b:at(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function bf(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var ee=function(t){return typeof t=="function"?t:typeof t=="string"?function(e){return e[t]}:function(e){return t}};function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}function vf(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var _f=`.tooltip {
  position: absolute;
  padding: 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.65);
  pointer-events: none;
}
`;vf(_f);var yf=Pn({props:{content:{default:!1}},init:function(e,n){var r=!!e&&dn(e)==="object"&&!!e.node&&typeof e.node=="function",i=ct(r?e.node():e);n.tooltipEl=i.append("div").attr("class","tooltip"),n.mouseInside=!1,i.on("mousemove.tooltip",function(a){n.mouseInside=!0;var o=Pt(a),s=i.node(),u=s.offsetWidth,l=s.offsetHeight;n.tooltipEl.style("left",o[0]+"px").style("top",o[1]+"px").style("transform","translate(-".concat(o[0]/u*100,"%, ").concat(l-o[1]<100?"calc(-100% - 6px)":"21px",")"))}),i.on("mouseover.tooltip",function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),i.on("mouseout.tooltip",function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.tooltipEl.html(e.content||"")}});function wf(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var Sf=`.treemap-viz {
  cursor: move;
}

.treemap-viz rect {
  cursor: pointer;
  stroke: lightgrey;
  stroke-opacity: .4;
  opacity: .85;
  transition-property: stroke-opacity, opacity;
  transition-duration: .4s;
}

.treemap-viz rect:hover {
  stroke-opacity: 1;
  opacity: 1;
  transition-duration: .05s;
}

.treemap-viz text {
  font-size: 12px;
  font-family: sans-serif;
  pointer-events: none;
  dominant-baseline: middle;
  text-anchor: middle;
  fill: #404041;
}

.treemap-viz text.light {
  fill: #F7F7F7;
}

.treemap-viz .tooltip {
  max-width: 320px;
  white-space: nowrap;
}

.treemap-viz .tooltip-title {
  font-weight: bold;
  text-align: center;
  margin-bottom: 5px;
}

.treemap-viz {
  position: relative;
}
`;wf(Sf);function kf(t){return xf(t)||$f(t)||Tf(t)||Cf()}function xf(t){if(Array.isArray(t))return gn(t)}function $f(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tf(t,e){if(t){if(typeof t=="string")return gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gn(t,e)}}function gn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pf=wn().domain([4,8]).clamp(!0),Mf=wn().domain([6,18]).clamp(!0),Af=Pn({props:{width:{default:window.innerWidth,onChange:function(e,n){n.needsReparse=!0}},height:{default:window.innerHeight,onChange:function(e,n){n.needsReparse=!0}},data:{onChange:function(e,n){n.needsReparse=!0}},children:{default:"children",onChange:function(e,n){n.needsReparse=!0}},sort:{onChange:function(e,n){n.needsReparse=!0}},label:{default:function(e){return e.name}},size:{default:"value",onChange:function(e,n){this.zoomReset(),n.needsReparse=!0}},padding:{default:2.5,onChange:function(e,n){n.needsReparse=!0}},color:{default:function(e){return"lightgrey"}},nodeClassName:{},minBlockArea:{default:100},excludeRoot:{default:!1,onChange:function(e,n){n.needsReparse=!0}},showLabels:{default:!0},showTooltip:{default:function(e){return!0},triggerUpdate:!1},tooltipTitle:{default:null,triggerUpdate:!1},tooltipContent:{default:function(e){return""},triggerUpdate:!1},onClick:{triggerUpdate:!1},onHover:{triggerUpdate:!1},transitionDuration:{default:800,triggerUpdate:!1}},methods:{zoomBy:function(e,n){return e.zoom.zoomBy(n,e.transitionDuration),this},zoomReset:function(e){return e.zoom.zoomReset(e.transitionDuration),this},zoomToNode:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.__dataNode;if(r){var i=Math.min(e.width/(r.x1-r.x0),e.height/(r.y1-r.y0)),a={k:i,x:-Math.max(0,Math.min(e.width*(1-1/i),r.x0-(e.width/i-(r.x1-r.x0))/2)),y:-Math.max(0,Math.min(e.height*(1-1/i),r.y0-(e.height/i-(r.y1-r.y0))/2))};e.zoom.zoomTo(a,e.transitionDuration)}return this},_parseData:function(e){if(e.data){var n=Sn(e.data,ee(e.children)).sum(ee(e.size));e.sort&&n.sort(e.sort),zl().paddingInner(e.padding).size([e.width,e.height])(n),n.descendants().forEach(function(r,i){r.id=i,r.data.__dataNode=r}),e.layoutData=n.descendants().filter(e.excludeRoot?function(r){return r.depth>0}:function(){return!0})}}},stateInit:function(){return{zoom:Uc()}},init:function(e,n){var r=this,i=ct(e).append("div").attr("class","treemap-viz");n.svg=i.append("svg"),n.canvas=n.svg.append("g"),n.tooltip=yf()(i),n.zoom(n.svg).svgEl(n.canvas).onChange(function(a,o,s){n.showLabels&&!s&&n.canvas.selectAll("text").attr("transform","scale(".concat(1/a.k,")")),n.skipTransitionsOnce=!s,n._rerender()}),n.svg.on("click",function(){return(n.onClick||r.zoomReset)(null)}).on("mouseover",function(){return n.onHover&&n.onHover(null)})},update:function(e){var n=this;if(e.needsReparse&&(this._parseData(),e.needsReparse=!1),e.svg.style("width",e.width+"px").style("height",e.height+"px"),e.zoom.translateExtent([[0,0],[e.width,e.height]]),!e.layoutData)return;var r=e.zoom.current(),i=e.canvas.selectAll(".node").data(e.layoutData.filter(function(d){return d.x1>-r.x/r.k&&d.x0<-r.x/r.k+e.width/r.k&&d.y1>-r.y/r.k&&d.y0<-r.y/r.k+e.height/r.k&&(d.x1-d.x0)*(d.y1-d.y0)>=e.minBlockArea/r.k}),function(d){return d.id}),a=ee(e.label),o=ee(e.color),s=ee(e.nodeClassName),u=!e.skipTransitionsOnce;e.skipTransitionsOnce=!1;var l=Cn().duration(u?e.transitionDuration:0);i.exit().transition(l).remove();var c=i.enter().append("g").attr("transform",function(d){return"translate(".concat(d.x0+(d.x1-d.x0)/2,",").concat(d.y0+(d.y1-d.y0)/2,")")});c.append("rect").attr("id",function(d){return"rect-".concat(d.id)}).attr("width",0).attr("height",0).style("stroke-width","1px").on("click",function(d,b){d.stopPropagation(),(e.onClick||n.zoomToNode)(b.data)}).on("mouseover",function(d,b){d.stopPropagation(),e.onHover&&e.onHover(b.data),e.tooltip.content(!!e.showTooltip(b.data,b)&&`
          <div class="tooltip-title">
            `.concat(e.tooltipTitle?e.tooltipTitle(b.data,b):g(b).slice(e.excludeRoot?1:0).map(function(_){return a(_.data)}).join(" &rarr; "),`
          </div>
          `).concat(e.tooltipContent(b.data,b),`
        `))}).on("mouseout",function(){return e.tooltip.content(!1)}),c.append("clipPath").attr("id",function(d){return"clip-".concat(d.id)}).append("use").attr("xlink:href",function(d){return"#rect-".concat(d.id)}),c.append("g").attr("clip-path",function(d){return"url(#clip-".concat(d.id,")")}).append("g").attr("class","label-container").append("text").attr("class","path-label");var h=i.merge(c);if(h.attr("class",function(d){return["node"].concat(kf("".concat(s(d.data)||"").split(" ").map(function(b){return b.trim()}))).filter(function(b){return b}).join(" ")}),h.transition(l).attr("transform",function(d){return"translate(".concat(d.x0,",").concat(d.y0,")")}),h.select("rect").transition(l).attr("width",function(d){return d.x1-d.x0}).attr("height",function(d){return d.y1-d.y0}).style("fill",function(d){return o(d.data,d.parent)}).style("stroke-width","".concat(1/r.k,"px")),h.select("g.label-container").style("display",e.showLabels?null:"none").transition(l).attr("transform",function(d){return"translate(".concat((d.x1-d.x0)/2,",").concat((d.y1-d.y0)/2,")")}),e.showLabels){var f=e.prevK||1;e.prevK=r.k,h.select("text.path-label").classed("light",function(d){return!M(o(d.data,d.parent)).isLight()}).text(function(d){return a(d.data)}).transition(l).style("opacity",function(d){return Pf((d.x1-d.x0)*r.k/a(d.data).length)*Mf((d.y1-d.y0)*r.k)}).attrTween("transform",function(){var d=Fe(f,r.k);return function(b){return"scale(".concat(1/d(b),")")}})}function g(d){for(var b=[],_=d;_;)b.unshift(_),_=_.parent;return b}}});function If(t){let e=0;t.split("").forEach(r=>{e=r.charCodeAt(0)+((e<<5)-e)});let n="#";for(let r=0;r<3;r++){const i=e>>r*8&255;n+=i.toString(16).padStart(2,"0")}return n}const Ef=[{inputs:[],name:"getUserList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"share",type:"uint256"},{internalType:"uint256",name:"expireAt",type:"uint256"},{internalType:"uint256",name:"depositedAt",type:"uint256"},{internalType:"uint256",name:"claimedAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vipWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"eliteWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],yi=Mi(zr,Ef,"0x66AD7EF241d6773C24444497b84e40c10fe2521B");async function zf(){return(await yi).methods.getUserList().call()}function kr(t){return`pulse-info/wallet/${t}`}const Nf=zi(7);async function Rf(t){var h;const e={},n={},r=await zr,i=await yi,a={};for(const f of t)a[f]=i.methods.users(f).call,n[f]=(h=Ai(kr(f)))==null?void 0:h.value;const o=await xr(r,a,"0x0000000000000000000000000000000000000000");for(const{key:f,data:g,error:d}of o){d&&console.error("ERROR: ",d);const b=(g.amount??0)/Ii;e[f]=b}const s=[];for(const[f,g]of Object.entries(n))g?n[f]=g:s.push(f);const u={};for(const f of s)u[f+"#isElite"]=i.methods.eliteWhitelist(f).call,u[f+"#isVIP"]=i.methods.vipWhitelist(f).call;const l=await xr(r,u,"0x0000000000000000000000000000000000000000"),c={};for(const{key:f,data:g,error:d}of l){const[b,_]=f.split("#");c[b]??(c[b]={isElite:!1,isVIP:!1}),_==="isElite"?c[b].isElite=g:_==="isVIP"&&(c[b].isVIP=g)}for(const[f,g]of Object.entries(c))n[f]=g,Ei(kr(f),Nf,g);return{walletAmount:e,walletTypes:n}}function xr(t,e,n){let r=new t.BatchRequest,i=Object.entries(e).map(([a,o])=>new Promise((s,u)=>{let l=o.request({from:n},(c,h)=>{s(c?{key:a,error:c}:{key:a,data:h})});r.add(l)}));return r.execute(),Promise.all(i)}const Df=()=>{if(typeof window<"u"){const t=document.getElementById("svelte");return t?Lf(t):null}},Bh=xi(Df(),t=>{const e=h=>h<640,n=h=>h>=640&&h<768,r=h=>h>=768&&h<1024,i=h=>h>=1024&&h<1280,a=h=>h>=1280&&h<1536,o=h=>h>=1536,s=h=>h<768,l={current:t,breakPoint:(h=>e(h)?"default":n(h)?"sm":r(h)?"md":i(h)?"lg":a(h)?"xl":"2xl")(t),isMobileDisplay:s(t),isDefault:e(t),isSmall:n(t),isMedium:r(t),isLarge:i(t),isExtraLarge:a(t),is2xExtraLarge:o(t)},c={current:0,breakPoint:"default",isMobileDisplay:!0,isDefault:!0,isSmall:!1,isMedium:!1,isLarge:!1,isExtraLarge:!1,is2xExtraLarge:!1};return t>0?l:c});function Lf(t){return Mr(null,e=>{if(!t)return;const n=new ResizeObserver(()=>t&&e(t.offsetWidth));return n.observe(t),()=>n.disconnect()})}function Wf(t){let e,n;return e=new Ri({}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Hf(t){let e;return{c(){e=Je("Beta")},m(n,r){ot(n,e,r)},d(n){n&&K(e)}}}function Of(t){let e,n,r,i;return n=new Di({props:{variant:"gradient",gradient:{from:"violet",to:"blue"},$$slots:{default:[Hf]},$$scope:{ctx:t}}}),{c(){e=Je(`Pulse Map  
                  `),J(n.$$.fragment),r=Je("  ")},m(a,o){ot(a,e,o),Q(n,a,o),ot(a,r,o),i=!0},p(a,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(Y(n.$$.fragment,a),i=!0)},o(a){X(n.$$.fragment,a),i=!1},d(a){a&&(K(e),K(r)),tt(n,a)}}}function Bf(t){let e,n;return e=new Oe({props:{mt:6,mb:6,$$slots:{default:[Of]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p(r,i){const a={};i&8&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Ff(t){let e,n;return e=new Li({}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function jf(t){let e,n;return e=new Oe({props:{mt:6,mb:6,$$slots:{default:[Ff]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p(r,i){const a={};i&8&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Vf(t){let e,n,r,i;return e=new Rn({props:{md:6,xs:12,style:"padding: 8px",class:"hide-tab-content",$$slots:{default:[Bf]},$$scope:{ctx:t}}}),r=new Rn({props:{md:6,xs:12,style:"padding: 8px",class:"hide-tab-content",$$slots:{default:[jf]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment),n=zt(),J(r.$$.fragment)},m(a,o){Q(e,a,o),ot(a,n,o),Q(r,a,o),i=!0},p(a,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const u={};o&8&&(u.$$scope={dirty:o,ctx:a}),r.$set(u)},i(a){i||(Y(e.$$.fragment,a),Y(r.$$.fragment,a),i=!0)},o(a){X(e.$$.fragment,a),X(r.$$.fragment,a),i=!1},d(a){a&&K(n),tt(e,a),tt(r,a)}}}function qf(t){var f;let e,n,r,i,a,o,s,u,l,c=`${((f=t[0])==null?void 0:f.clientHeight)+8}px`,h;return n=new Oe({props:{mt:3,mb:3,$$slots:{default:[Wf]},$$scope:{ctx:t}}}),o=new Ni({props:{$$slots:{default:[Vf]},$$scope:{ctx:t}}}),{c(){e=Et("div"),J(n.$$.fragment),r=zt(),i=Et("div"),a=Et("div"),J(o.$$.fragment),u=zt(),l=Et("div"),he(a,"class",s="inner-content "+(t[1]?"small-device":"")+" svelte-148ke8l"),he(i,"class","grid-styles svelte-148ke8l"),he(e,"class","fixed-header svelte-148ke8l"),de(l,"display","block"),de(l,"width","100%"),de(l,"height",c)},m(g,d){ot(g,e,d),Q(n,e,null),ye(e,r),ye(e,i),ye(i,a),Q(o,a,null),t[2](e),ot(g,u,d),ot(g,l,d),h=!0},p(g,[d]){var v;const b={};d&8&&(b.$$scope={dirty:d,ctx:g}),n.$set(b);const _={};d&8&&(_.$$scope={dirty:d,ctx:g}),o.$set(_),(!h||d&2&&s!==(s="inner-content "+(g[1]?"small-device":"")+" svelte-148ke8l"))&&he(a,"class",s),d&1&&c!==(c=`${((v=g[0])==null?void 0:v.clientHeight)+8}px`)&&de(l,"height",c)},i(g){h||(Y(n.$$.fragment,g),Y(o.$$.fragment,g),h=!0)},o(g){X(n.$$.fragment,g),X(o.$$.fragment,g),h=!1},d(g){g&&(K(e),K(u),K(l)),tt(n),tt(o),t[2](null)}}}function Uf(t,e,n){let r;Ar(t,Ti,o=>n(1,r=o));let i;function a(o){Ir[o?"unshift":"push"](()=>{i=o,n(0,i)})}return[i,r,a]}class Xf extends Tr{constructor(e){super(),Cr(this,e,Uf,qf,Pr,{})}}const{document:Yf}=Wi;function Gf(t){let e,n;return e=new Er({props:{use:[[pa,t[3]]],$$slots:{default:[Zf]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p(r,i){const a={};i&513&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Kf(t){let e,n;return e=new Er({props:{$$slots:{default:[Qf]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p(r,i){const a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Zf(t){let e;return{c(){e=Et("div")},m(n,r){ot(n,e,r),t[4](e)},p:$r,d(n){n&&K(e),t[4](null)}}}function Jf(t){let e,n;return e=new Ci({props:{variant:"bars"}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p:$r,i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function Qf(t){let e,n;return e=new Oe({props:{$$slots:{default:[Jf]},$$scope:{ctx:t}}}),{c(){J(e.$$.fragment)},m(r,i){Q(e,r,i),n=!0},p(r,i){const a={};i&512&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(Y(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){tt(e,r)}}}function th(t){let e,n,r,i,a,o,s,u,l,c;e=new Xf({});const h=[Kf,Gf],f=[];function g(b,_){return b[1].children.length?1:0}r=g(t),i=f[r]=h[r](t);let d=t[1].children.length!==0&&!1;return{c(){J(e.$$.fragment),n=zt(),i.c(),a=zt(),o=Et("br"),s=zt(),d&&d.c(),u=zt(),l=Et("style"),l.textContent=`.treemap-viz text {
           white-space: pre;
       }`},m(b,_){Q(e,b,_),ot(b,n,_),f[r].m(b,_),ot(b,a,_),ot(b,o,_),ot(b,s,_),d&&d.m(b,_),ot(b,u,_),ye(Yf.head,l),c=!0},p(b,[_]){let v=r;r=g(b),r===v?f[r].p(b,_):(zn(),X(f[v],1,1,()=>{f[v]=null}),Nn(),i=f[r],i?i.p(b,_):(i=f[r]=h[r](b),i.c()),Y(i,1),i.m(a.parentNode,a)),b[1].children.length,d&&(zn(),X(d,1,1,()=>{d=null}),Nn())},i(b){c||(Y(e.$$.fragment,b),Y(i),Y(d),c=!0)},o(b){X(e.$$.fragment,b),X(i),X(d),c=!1},d(b){b&&(K(n),K(a),K(o),K(s),K(u)),tt(e,b),f[r].d(b),d&&d.d(b),K(l)}}}function eh(t,e,n){let r;const i=Mr({name:"root",children:[]});Ar(t,i,f=>n(1,r=f));let a;const o={},s=Af();s.color(f=>o[f.wallet]??(o[f.wallet]=If(f.wallet))),s.onClick(f=>{}),s.excludeRoot(!0),s.sort((f,g)=>g.value-f.value),s.tooltipContent(f=>{const g=[];return f.isVIP?g.push("Recurring: VIP"):f.isElite&&g.push("Recurring: Elite"),g.push("Wallet: "+f.walletShort.substring(0,6)),g.join("<br/>")});async function u(){const f=await zf(),g={},d={},b=20;for(let _=0;_<f.length;_+=b){const v=f.slice(_,_+b),C=await Rf(v);Object.assign(g,C.walletAmount),Object.assign(d,C.walletTypes)}i.update(_=>{var v,C;for(const[P,w]of Object.entries(g))_.children.push({name:"$ "+Hi(w),value:w,wallet:P,walletShort:P.substring(0,6),isVIP:((v=d[P])==null?void 0:v.isVIP)??!1,isElite:((C=d[P])==null?void 0:C.isElite)??!1});return s.data(_),_})}u();function l(f){const g=document.getElementById("svelte").clientWidth;s.width(g-46)}const c=Fi(l,400);function h(f){Ir[f?"unshift":"push"](()=>{a=f,n(0,a)})}return t.$$.update=()=>{t.$$.dirty&1&&a&&(n(0,a.textContent="",a),s.data($i(i))(a),c())},[a,r,i,c,h]}class Fh extends Tr{constructor(e){super(),Cr(this,e,eh,th,Pr,{})}}export{Fh as default};
