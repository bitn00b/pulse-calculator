let D=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var Y=Object.defineProperty,k=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,C=(t,e,n)=>e in t?Y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||(e={}))tt.call(e,n)&&C(t,n,e[n]);if(k)for(var n of k(e))et.call(e,n)&&C(t,n,e[n]);return t};function nt(t){if(t===null||Array.isArray(t)&&t.length===0)return null;let e=Number(t);return Number.isNaN(e)?null:Number(t)}var rt=/([A-Z]{3})[scn]?/,ot=/[A-Z]{3}([scn]?)/,it=/([A-Z]{3}[scn]?)/,at=/([0,.[\]]+)/,ut=/\.\]?([0-9[\]]*)/,ct=/\[\.\]/,x=/^\([^)]*\)/,lt=/^([0-9]+)/,st=/^([0]+)/,ft=/[aA]\)?$/,mt=/E\)?$/,gt=/A\)?$/,dt=/e\)?$/,bt=/a\)?$/,yt=/[aAeE]\)?$/,$=/\[([0]+)\]/,ht=/o\)?$/,pt=/([0]+)/,N=/[0\]]\s[o%bBmk]/,vt=/^\+/,j=/^([0]+)/,wt=/b$/,At=/B$/,Ot=/[bB]$/,V=/k\)?$/,X=/m\)?$/,A=/[bBmik]\)?$/;function It(t){if(bt.test(t))return"short";if(gt.test(t))return"long"}function Mt(t){let[,e]=t.match(rt)||[""];return e||void 0}function Pt(t){let[,e]=t.match(ot)||[""];switch(e){case"s":return"narrowSymbol";case"c":return"code";case"n":return"name";default:return"symbol"}}function St(t){return x.test(t)?"accounting":"standard"}function O(t){let[e]=at.exec(t||"")||["0,000"];return e==="0,0"?"0,000":e}function Z(t){let[e]=ut.exec(t)||[""],[n]=pt.exec(e)||[""],[,o]=$.exec(e)||["",""];return[n.length,o.length]}function $t(t,e){let n=O(e),[o,r]=Z(n);return A.test(e)?Math.max(o+r,2):o+r}function _t(t,e){let[n]=e;return n}function xt(t,e){let n=O(e),[o,r]=Z(n);if(ct.test(n)){let i=t.toString();return $.test(n)?_t(t,[o,r]):i.indexOf(".")>-1?o:0}return $.test(n)?o:o+r}function G(t){let[e]=st.exec(t)||[""];return e.length}function Nt(t,e){let n=O(e);if(n==="0,000"||yt.test(e||""))return;let o=G(n),r=t.toString(),[i]=lt.exec(r)||[""],[s]=j.exec(r)||[""];return Math.max(o,i.length-s.length)||void 0}function Ft(t){return ft.test(t)?"compact":dt.test(t)?"scientific":mt.test(t)?"engineering":"standard"}function Et(t){return x.test(t)?"never":vt.test(t)?"exceptZero":"auto"}function Tt(t){return it.test(t)?"currency":A.test(t)?"unit":t.includes("%")?"percent":"decimal"}function B(t,e){let n=Math.floor(Math.log(t)/Math.log(1024));return e[n]}function kt(t){let e=Math.abs(t);return e>999.9999?"kilometer":e>=.01&&e<=.0999?"centimeter":e>=.001&&e<=.00999?"millimeter":"meter"}function Ct(t){let e=Math.abs(t);return e>=.001&&e<=.00999?"gram":"kilogram"}function Rt(t,e){if(A.test(e)){if(X.test(e))return kt(t);if(V.test(e))return Ct(t);if(wt.test(e))return B(t,["bit","kilobit","megabit","gigabit","terabit"]);if(At.test(e))return B(t,["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"])}}function Bt(t){return A.test(t)&&!N.test(t)?"narrow":"short"}function Lt(t){switch(t){case"en-GB":default:return new Map([["one","st"],["two","nd"],["few","rd"],["other","th"]])}}function Ut(t){let{value:e,formatted:n,locale:o,format:r}=t,i=new Intl.PluralRules(o,{type:"ordinal"}).select(e),s=Lt(o).get(i);return N.test(r)?`${n} ${s}`:`${n}${s}`}function Dt(t){return t.reduce((e,n)=>{let{type:o,value:r}=n;return o==="integer"?(e[o]=e[o]||[],e[o].push(r)):e[o]=r,e},{})}function jt(t){let{value:e,numberFormatter:n,format:o}=t,{minusSign:r,integer:i,group:s,decimal:g,fraction:u,percentSign:l}=Dt(n.formatToParts(e));return[r,i.join(s||""),g,u,N.test(o)&&" ",l].filter(Boolean).join("")}function Vt(t){let e=t;for(;e>=1024;)e/=1024;return e}function Xt(t){let e=Math.abs(t);return e>999.9999?t/1e3:e>=.01&&e<=.0999?t*100:e>=.001&&e<=.00999?t*1e3:t}function Zt(t){let e=Math.abs(t);return e>=.001&&e<=.00999?t*1e3:t}function Gt(t,e){return Ot.test(e)?Vt(t):X.test(e)?Xt(t):V.test(e)?Zt(t):t}function Wt(t){let{locale:e}=t||{},{locale:n,numberingSystem:o}=R(R({},Intl.DateTimeFormat(e).resolvedOptions()),t);return{locale:n,numberingSystem:o}}function _(t,e,n){let o=nt(t);if(o===null)return"";let r=e||"0,0",{locale:i,numberingSystem:s}=Wt(n),g=O(r),u=Gt(o,r),l={compactDisplay:It(r),currency:Mt(r),currencyDisplay:Pt(r),currencySign:St(r),maximumFractionDigits:$t(u,r),minimumFractionDigits:xt(u,r),minimumIntegerDigits:Nt(u,r),notation:Ft(r),numberingSystem:s,signDisplay:Et(r),style:Tt(r),useGrouping:g.includes(","),unit:Rt(o,r),unitDisplay:Bt(r)},d=new Intl.NumberFormat(i,l),a=d.format(u);return G(g)===0&&(a=a.replace(j,"")),r.includes("%")&&(a=jt({value:u,numberFormatter:d,format:r})),ht.test(r)&&(a=Ut({value:u,formatted:a,format:r,locale:i})),x.test(r)&&u<0&&(a=`(${a})`),a}_.partial=t=>e=>_(e,t);var W=_;W.partial("0,0.00");W.partial("0,0");function Ht(t){return t.reduce((e,n)=>e+n,0)/t.length}const qt=1e5,zt=5e5,Jt=.91,Kt=.95,Qt=.05;function Yt(t){t.additionalAmount||(t.additionalAmount=0),t.additionalLimit||(t.additionalLimit=0)}function te(t){var e=9007199254740881,n=2n**53n-111n,o=5667072534355537n,r=BigInt(t)%n;return function(){return Number(r=r*o%n)/e}}const ee=te(Date.now());function ne(t){return Math.floor(ee()*(t+1))}function re({iterationCount:t=1,pulseVip:e,initial:n,percentADay:o,first80Days:r,additionalDeposits:i,withdrawSettings:s}){if(!n)return[];const g=o<0;o>0&&(o/=100),Yt(i);const u=e?100:60,l=e?zt:qt;let d=0,a=0;const F=[];for(let h=1;h<=t;h++){const p=n,E=h===1&&u===60&&r?80:u,v=[];let M=0,c=p;for(var I=1;I<=E;I++){if(d++,c<l&&(i.additionalLimit===0||a<=i.additionalLimit))switch(i.additionalAmountInterval){case"daily":{a++,c+=i.additionalAmount;break}case"weekly":{d%7===0&&(a++,c+=i.additionalAmount);break}case"monthly":{d%30===0&&(a++,c+=i.additionalAmount);break}}const f=c,y=f<l;let m=0;g&&(o=(100.5+ne(4)/2)/100),y?m=c*o-f:m=(o-1)*c;const T=m*Qt;m-=T,M+=m,y&&(c>l?c=l:c+=m);const Q={day:I,startedWith:f,currentValue:c,canCompound:y,profitOfThisDay:m,referrerCut:T,profitUntilNow:M,percentADay:o};v.push(Q)}const P=p+M,S=P*Kt,H=P-S,b=S*Jt,q=S-b,z=v.reduce((f,y)=>f+y.referrerCut,0),J=b-p,K=Ht(v.map(f=>f.percentADay))*100-100;F.push({uuid:D(),iteration:h,interests:v,amountAfterFees:b,amountAfterAllDays:P,withdrawFee:H,sellTax:q,days:E,principal:p,referrerCutOfIteration:z,averagePercent:K,profit:J}),n=b<l?b:l}return F}function oe(t){return new Promise(e=>setTimeout(e,t))}let w=!1,L="",U={};self.addEventListener("message",async function(t){const e=D();w&&(U[L]=!0),L=e,w&&await oe(500),w=!0,console.info(t.data);const n=re(t.data);U[e]||(self.postMessage(n),w=!1)},!1);
