let D=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var rt=Object.defineProperty,L=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,U=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X=(t,e)=>{for(var n in e||(e={}))ot.call(e,n)&&U(t,n,e[n]);if(L)for(var n of L(e))at.call(e,n)&&U(t,n,e[n]);return t};function ut(t){if(t===null||Array.isArray(t)&&t.length===0)return null;let e=Number(t);return Number.isNaN(e)?null:Number(t)}var it=/([A-Z]{3})[scn]?/,ct=/[A-Z]{3}([scn]?)/,lt=/([A-Z]{3}[scn]?)/,st=/([0,.[\]]+)/,ft=/\.\]?([0-9[\]]*)/,mt=/\[\.\]/,T=/^\([^)]*\)/,dt=/^([0-9]+)/,gt=/^([0]+)/,bt=/[aA]\)?$/,yt=/E\)?$/,ht=/A\)?$/,pt=/e\)?$/,vt=/a\)?$/,At=/[aAeE]\)?$/,_=/\[([0]+)\]/,Ot=/o\)?$/,wt=/([0]+)/,k=/[0\]]\s[o%bBmk]/,It=/^\+/,H=/^([0]+)/,Pt=/b$/,Ft=/B$/,Mt=/[bB]$/,q=/k\)?$/,z=/m\)?$/,P=/[bBmik]\)?$/;function $t(t){if(vt.test(t))return"short";if(ht.test(t))return"long"}function xt(t){let[,e]=t.match(it)||[""];return e||void 0}function _t(t){let[,e]=t.match(ct)||[""];switch(e){case"s":return"narrowSymbol";case"c":return"code";case"n":return"name";default:return"symbol"}}function Nt(t){return T.test(t)?"accounting":"standard"}function F(t){let[e]=st.exec(t||"")||["0,000"];return e==="0,0"?"0,000":e}function J(t){let[e]=ft.exec(t)||[""],[n]=wt.exec(e)||[""],[,o]=_.exec(e)||["",""];return[n.length,o.length]}function Tt(t,e){let n=F(e),[o,r]=J(n);return P.test(e)?Math.max(o+r,2):o+r}function kt(t,e){let[n]=e;return n}function St(t,e){let n=F(e),[o,r]=J(n);if(mt.test(n)){let a=t.toString();return _.test(n)?kt(t,[o,r]):a.indexOf(".")>-1?o:0}return _.test(n)?o:o+r}function K(t){let[e]=gt.exec(t)||[""];return e.length}function Bt(t,e){let n=F(e);if(n==="0,000"||At.test(e||""))return;let o=K(n),r=t.toString(),[a]=dt.exec(r)||[""],[i]=H.exec(r)||[""];return Math.max(o,a.length-i.length)||void 0}function Et(t){return bt.test(t)?"compact":pt.test(t)?"scientific":yt.test(t)?"engineering":"standard"}function Ct(t){return T.test(t)?"never":It.test(t)?"exceptZero":"auto"}function Vt(t){return lt.test(t)?"currency":P.test(t)?"unit":t.includes("%")?"percent":"decimal"}function j(t,e){let n=Math.floor(Math.log(t)/Math.log(1024));return e[n]}function Rt(t){let e=Math.abs(t);return e>999.9999?"kilometer":e>=.01&&e<=.0999?"centimeter":e>=.001&&e<=.00999?"millimeter":"meter"}function Lt(t){let e=Math.abs(t);return e>=.001&&e<=.00999?"gram":"kilogram"}function Ut(t,e){if(P.test(e)){if(z.test(e))return Rt(t);if(q.test(e))return Lt(t);if(Pt.test(e))return j(t,["bit","kilobit","megabit","gigabit","terabit"]);if(Ft.test(e))return j(t,["byte","kilobyte","megabyte","gigabyte","terabyte","petabyte"])}}function Xt(t){return P.test(t)&&!k.test(t)?"narrow":"short"}function jt(t){switch(t){case"en-GB":default:return new Map([["one","st"],["two","nd"],["few","rd"],["other","th"]])}}function Wt(t){let{value:e,formatted:n,locale:o,format:r}=t,a=new Intl.PluralRules(o,{type:"ordinal"}).select(e),i=jt(o).get(a);return k.test(r)?`${n} ${i}`:`${n}${i}`}function Zt(t){return t.reduce((e,n)=>{let{type:o,value:r}=n;return o==="integer"?(e[o]=e[o]||[],e[o].push(r)):e[o]=r,e},{})}function Gt(t){let{value:e,numberFormatter:n,format:o}=t,{minusSign:r,integer:a,group:i,decimal:g,fraction:c,percentSign:b}=Zt(n.formatToParts(e));return[r,a.join(i||""),g,c,k.test(o)&&" ",b].filter(Boolean).join("")}function Dt(t){let e=t;for(;e>=1024;)e/=1024;return e}function Ht(t){let e=Math.abs(t);return e>999.9999?t/1e3:e>=.01&&e<=.0999?t*100:e>=.001&&e<=.00999?t*1e3:t}function qt(t){let e=Math.abs(t);return e>=.001&&e<=.00999?t*1e3:t}function zt(t,e){return Mt.test(e)?Dt(t):z.test(e)?Ht(t):q.test(e)?qt(t):t}function Jt(t){let{locale:e}=t||{},{locale:n,numberingSystem:o}=X(X({},Intl.DateTimeFormat(e).resolvedOptions()),t);return{locale:n,numberingSystem:o}}function N(t,e,n){let o=ut(t);if(o===null)return"";let r=e||"0,0",{locale:a,numberingSystem:i}=Jt(n),g=F(r),c=zt(o,r),b={compactDisplay:$t(r),currency:xt(r),currencyDisplay:_t(r),currencySign:Nt(r),maximumFractionDigits:Tt(c,r),minimumFractionDigits:St(c,r),minimumIntegerDigits:Bt(c,r),notation:Et(r),numberingSystem:i,signDisplay:Ct(r),style:Vt(r),useGrouping:g.includes(","),unit:Ut(o,r),unitDisplay:Xt(r)},f=new Intl.NumberFormat(a,b),u=f.format(c);return K(g)===0&&(u=u.replace(H,"")),r.includes("%")&&(u=Gt({value:c,numberFormatter:f,format:r})),Ot.test(r)&&(u=Wt({value:c,formatted:u,format:r,locale:a})),T.test(r)&&c<0&&(u=`(${u})`),u}N.partial=t=>e=>N(e,t);var Q=N;Q.partial("0,0.00");Q.partial("0,0");function Kt(t){return t.reduce((e,n)=>e+n,0)/t.length}const Qt=1e5,Yt=5e5,te=.09,W=.05,ee=.05;function ne(t){t.additionalAmount||(t.additionalAmount=0),t.additionalLimit||(t.additionalLimit=0)}function re(t){var e=9007199254740881,n=2n**53n-111n,o=5667072534355537n,r=BigInt(t)%n;return function(){return Number(r=r*o%n)/e}}const oe=re(Date.now());function ae(t){return Math.floor(oe()*(t+1))}function ue({iterationCount:t=1,iterationDays:e,initial:n,percentADay:o,firstIterationDays:r,additionalDeposits:a,withdrawSettings:i}){if(!n)return[];const g=o<0;o>0&&(o/=100),ne(a);const c=e,b=[100,110].includes(e),f=b?Yt:Qt;let u=0,h=0;const S=[];for(let v=1;v<=t;v++){const A=n,B=v===1&&!b?r<c?c:r:c,O=[];let $=0,l=A;for(var M=1;M<=B;M++){if(u++,l<f&&(l+=a.additionalVolumeBusdAmount,a.additionalLimit===0||h<=a.additionalLimit))switch(a.additionalAmountInterval){case"daily":{h++,l+=a.additionalAmount;break}case"weekly":{u%7===0&&(h++,l+=a.additionalAmount);break}case"bi-weekly":{u%14===0&&(h++,l+=a.additionalAmount);break}case"monthly":{u%30===0&&(h++,l+=a.additionalAmount);break}}const s=l,d=s<f;let m=0;g&&(o=(100.5+ae(4)/2)/100),d?m=l*o-s:m=(o-1)*l;const R=m*ee;m-=R,$+=m,d&&(l>f?l=f:l+=m);const nt={day:M,daySinceBegin:u,startedWith:s,currentValue:l,canCompound:d,profitOfThisDay:m,referrerCut:R,profitUntilNow:$,percentADay:o};O.push(nt)}const x=A+$;let y=x,p=null;if(i!=null&&i.withdrawPercentInVFX){const s=y*i.withdrawPercentInVFX/100,d=s*W,m=s-d;y-=s,p={amountBefore:x,withdrawFee:d,amountAfterFee:m,remainingAmount:y}}const E=y*W,C=y-E,V=C*te,w=C-V,Y=O.reduce((s,d)=>s+d.referrerCut,0),tt=w+((p==null?void 0:p.amountAfterFee)??0)-A,et=Kt(O.map(s=>s.percentADay))*100-100;S.push({uuid:D(),amountBeforeFeeTax:y,withdrawInVFX:p,iteration:v,interests:O,amountAfterFees:w,amountAfterAllDays:x,withdrawFee:E,sellTax:V,days:B,principal:A,referrerCutOfIteration:Y,averagePercent:et,profit:tt}),n=w<f?w:f}return S}function ie(t){return new Promise(e=>setTimeout(e,t))}let I=!1,Z="",G={};self.addEventListener("message",async function(t){const e=D();I&&(G[Z]=!0),Z=e,I&&await ie(500),I=!0,console.info(t.data);const n=ue(t.data);G[e]||(self.postMessage(n),I=!1)},!1);
