import{X as Tr,aP as nh,a9 as rh,aa as ih,aQ as ah,aR as oh,S as Cr,e as Pr,h as Mr,F as sh,_ as lh,v as he,p as Z,G as uh,H as ch,I as fh,b as G,t as X,r as Y,w as hh,j as it,m as at,z as dh,A as gh,k as ot,E as ph,ag as ki,a8 as $r,ah as xi,ac as mh,ab as bh,u as zt,l as Ze,n as $t,R as vh,a0 as ye,V as _h,q as yh,a as zn,c as Nn,a5 as wh,af as Ar,$ as de,ad as Sh,ae as kh,x as Er,W as xh,aS as Th,a2 as Ch,aK as Ph,aD as Mh,o as $h,O as Ah,aT as Eh,ao as Ih,aJ as zh,aU as Nh,aV as Rh,al as gn,an as Ti,au as Ci,as as Pi,aH as Mi}from"./index-6e63ae73.js";import{g as $i,m as Ai,w as Ir,n as Ei,p as Ii,s as zi,q as Ni,e as Lh,u as Wh,r as Hh,G as Ri,H as Di,j as Rn,B as Li,N as Wi,S as Hi,t as Oi}from"./ShowAnkrGasChangeModalButton-ddb1cdb8.js";function Bi(t,e={}){let n,r;return a=>{const o=t,s=e.maxWait;if(n&&clearTimeout(n),o<=0||s!==void 0&&s<=0)return r&&(clearTimeout(r),r=null),a();s&&!r&&(r=setTimeout(()=>{n&&clearTimeout(n),r=null,a()},s)),n=setTimeout(()=>{r&&clearTimeout(r),r=null,a()},o)}}function Fi(t,e){function n(...r){t(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})}return n}function ji(t,e=200,n={}){return Fi(Bi(e,n),t)}var zr={exports:{}},Vi=zr.exports={};Vi.forEach=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}};var Nr=zr.exports,qi=function(t){var e=t.stateHandler.getState;function n(o){var s=e(o);return s&&!!s.isDetectable}function r(o){e(o).isDetectable=!0}function i(o){return!!e(o).busy}function a(o,s){e(o).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},Ui=function(t){var e={};function n(o){var s=t.get(o);return s===void 0?[]:e[s]||[]}function r(o,s){var u=t.get(o);e[u]||(e[u]=[]),e[u].push(s)}function i(o,s){for(var u=n(o),l=0,c=u.length;l<c;++l)if(u[l]===s){u.splice(l,1);break}}function a(o){var s=n(o);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},Xi=function(){var t=1;function e(){return t++}return{generate:e}},Gi=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function r(a){var o=n(a);return o&&o.id!==void 0?o.id:null}function i(a){var o=n(a);if(!o)throw new Error("setId required the element to have a resize detection state.");var s=e.generate();return o.id=s,s}return{get:r,set:i}},Yi=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var r=function(i,a){i[a]=function(){var s=console[a];if(s.apply)s.apply(console,arguments);else for(var u=0;u<arguments.length;u++)s(arguments[u])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Rr={exports:{}},Dr=Rr.exports={};Dr.isIE=function(t){function e(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var r,i=3,a=document.createElement("div"),o=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return i>4?i:r}();return t===n};Dr.isLegacyOpera=function(){return!!window.opera};var Lr=Rr.exports,Wr={exports:{}},Ki=Wr.exports={};Ki.getOption=Zi;function Zi(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}var Ji=Wr.exports,Dn=Ji,Qi=function(e){e=e||{};var n=e.reporter,r=Dn.getOption(e,"async",!0),i=Dn.getOption(e,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=Ln(),o,s=!1;function u(d,v){!s&&i&&r&&a.size()===0&&h(),a.add(d,v)}function l(){for(s=!0;a.size();){var d=a;a=Ln(),d.process()}s=!1}function c(d){s||(d===void 0&&(d=r),o&&(f(o),o=null),d?h():l())}function h(){o=g(l)}function f(d){var v=clearTimeout;return v(d)}function g(d){var v=function(_){return setTimeout(_,0)};return v(d)}return{add:u,force:c}};function Ln(){var t={},e=0,n=0,r=0;function i(s,u){u||(u=s,s=0),s>n?n=s:s<r&&(r=s),t[s]||(t[s]=[]),t[s].push(u),e++}function a(){for(var s=r;s<=n;s++)for(var u=t[s],l=0;l<u.length;l++){var c=u[l];c()}}function o(){return e}return{add:i,process:a,size:o}}var pn="_erd";function ta(t){return t[pn]={},Hr(t)}function Hr(t){return t[pn]}function ea(t){delete t[pn]}var na={initState:ta,getState:Hr,cleanState:ea},Yt=Lr,ra=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(l,c){function h(){c(l)}if(Yt.isIE(8))r(l).object={proxy:h},l.attachEvent("onresize",h);else{var f=s(l);if(!f)throw new Error("Element is not detectable by this strategy.");f.contentDocument.defaultView.addEventListener("resize",h)}}function a(l){var c=t.important?" !important; ":"; ";return(l.join(c)+c).trim()}function o(l,c,h){h||(h=c,c=l,l=null),l=l||{},l.debug;function f(g,d){var v=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),_=!1,m=window.getComputedStyle(g),T=g.offsetWidth,C=g.offsetHeight;r(g).startSize={width:T,height:C};function w(){function b(){if(m.position==="static"){g.style.setProperty("position","relative",l.important?"important":"");var R=function(B,D,A,z){function N(k){return k.replace(/[^-\d\.]/g,"")}var p=A[z];p!=="auto"&&N(p)!=="0"&&(B.warn("An element that is positioned static has style."+z+"="+p+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+z+" will be set to 0. Element: ",D),D.style.setProperty(z,"0",l.important?"important":""))};R(e,g,m,"top"),R(e,g,m,"right"),R(e,g,m,"bottom"),R(e,g,m,"left")}}function x(){_||b();function R(D,A){if(!D.contentDocument){var z=r(D);z.checkForObjectDocumentTimeoutId&&window.clearTimeout(z.checkForObjectDocumentTimeoutId),z.checkForObjectDocumentTimeoutId=setTimeout(function(){z.checkForObjectDocumentTimeoutId=0,R(D,A)},100);return}A(D.contentDocument)}var B=this;R(B,function(A){d(g)})}m.position!==""&&(b(),_=!0);var S=document.createElement("object");S.style.cssText=v,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=x,Yt.isIE()||(S.data="about:blank"),r(g)&&(g.appendChild(S),r(g).object=S,Yt.isIE()&&(S.data="about:blank"))}n?n.add(w):w()}Yt.isIE(8)?h(c):f(c,h)}function s(l){return r(l).object}function u(l){if(r(l)){var c=s(l);c&&(Yt.isIE(8)?l.detachEvent("onresize",c.proxy):l.removeChild(c),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:o,addListener:i,uninstall:u}},ia=Nr.forEach,aa=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;t.stateHandler.hasState;var i=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=c(),o="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function u(w){h(w,o,s)}u(window.document);function l(w){var b=t.important?" !important; ":"; ";return(w.join(b)+b).trim()}function c(){var w=500,b=500,x=document.createElement("div");x.style.cssText=l(["position: absolute","width: "+w*2+"px","height: "+b*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+w+"px","height: "+b+"px","overflow: scroll","visibility: none","top: "+-w*3+"px","left: "+-b*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(x),document.body.insertBefore(S,document.body.firstChild);var R=w-S.clientWidth,B=b-S.clientHeight;return document.body.removeChild(S),{width:R,height:B}}function h(w,b,x){function S(A,z){z=z||function(p){w.head.appendChild(p)};var N=w.createElement("style");return N.innerHTML=A,N.id=b,z(N),N}if(!w.getElementById(b)){var R=x+"_animation",B=x+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+x+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,D+="."+B+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+R,"animation-name: "+R])+` }
`,D+="@-webkit-keyframes "+R+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+R+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(D)}}function f(w){w.className+=" "+s+"_animation_active"}function g(w,b,x){if(w.addEventListener)w.addEventListener(b,x);else if(w.attachEvent)w.attachEvent("on"+b,x);else return e.error("[scroll] Don't know how to add event listeners.")}function d(w,b,x){if(w.removeEventListener)w.removeEventListener(b,x);else if(w.detachEvent)w.detachEvent("on"+b,x);else return e.error("[scroll] Don't know how to remove event listeners.")}function v(w){return r(w).container.childNodes[0].childNodes[0].childNodes[0]}function _(w){return r(w).container.childNodes[0].childNodes[0].childNodes[1]}function m(w,b){var x=r(w).listeners;if(!x.push)throw new Error("Cannot add listener to an element that is not detectable.");r(w).listeners.push(b)}function T(w,b,x){x||(x=b,b=w,w=null),w=w||{};function S(){if(w.debug){var M=Array.prototype.slice.call(arguments);if(M.unshift(i.get(b),"Scroll: "),e.log.apply)e.log.apply(null,M);else for(var W=0;W<M.length;W++)e.log(M[W])}}function R(M){function W(V){var mt=V.getRootNode&&V.getRootNode().contains(V);return V===V.ownerDocument.body||V.ownerDocument.body.contains(V)||mt}return!W(M)||window.getComputedStyle(M)===null}function B(M){var W=r(M).container.childNodes[0],V=window.getComputedStyle(W);return!V.width||V.width.indexOf("px")===-1}function D(){var M=window.getComputedStyle(b),W={};return W.position=M.position,W.width=b.offsetWidth,W.height=b.offsetHeight,W.top=M.top,W.right=M.right,W.bottom=M.bottom,W.left=M.left,W.widthCSS=M.width,W.heightCSS=M.height,W}function A(){var M=D();r(b).startSize={width:M.width,height:M.height},S("Element start size",r(b).startSize)}function z(){r(b).listeners=[]}function N(){if(S("storeStyle invoked."),!r(b)){S("Aborting because element has been uninstalled");return}var M=D();r(b).style=M}function p(M,W,V){r(M).lastWidth=W,r(M).lastHeight=V}function k(M){return v(M).childNodes[0]}function y(){return 2*a.width+1}function P(){return 2*a.height+1}function I(M){return M+10+y()}function E(M){return M+10+P()}function L(M){return M*2+y()}function H(M){return M*2+P()}function F(M,W,V){var mt=v(M),At=_(M),Wt=I(W),Ht=E(V),nt=L(W),O=H(V);mt.scrollLeft=Wt,mt.scrollTop=Ht,At.scrollLeft=nt,At.scrollTop=O}function Q(){var M=r(b).container;if(!M){M=document.createElement("div"),M.className=s,M.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(b).container=M,f(M),b.appendChild(M);var W=function(){r(b).onRendered&&r(b).onRendered()};g(M,"animationstart",W),r(b).onAnimationStart=W}return M}function q(){function M(){var U=r(b).style;if(U.position==="static"){b.style.setProperty("position","relative",w.important?"important":"");var wt=function(Bt,It,yi,fe){function wi(Si){return Si.replace(/[^-\d\.]/g,"")}var qe=yi[fe];qe!=="auto"&&wi(qe)!=="0"&&(Bt.warn("An element that is positioned static has style."+fe+"="+qe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+fe+" will be set to 0. Element: ",It),It.style[fe]=0)};wt(e,b,U,"top"),wt(e,b,U,"right"),wt(e,b,U,"bottom"),wt(e,b,U,"left")}}function W(U,wt,Bt,It){return U=U?U+"px":"0",wt=wt?wt+"px":"0",Bt=Bt?Bt+"px":"0",It=It?It+"px":"0",["left: "+U,"top: "+wt,"right: "+It,"bottom: "+Bt]}if(S("Injecting elements"),!r(b)){S("Aborting because element has been uninstalled");return}M();var V=r(b).container;V||(V=Q());var mt=a.width,At=a.height,Wt=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Ht=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(W(-(1+mt),-(1+At),-At,-mt))),nt=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),O=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ut=l(["position: absolute","left: 0","top: 0"]),Et=l(["position: absolute","width: 200%","height: 200%"]),_t=document.createElement("div"),yt=document.createElement("div"),Ot=document.createElement("div"),$n=document.createElement("div"),ce=document.createElement("div"),An=document.createElement("div");_t.dir="ltr",_t.style.cssText=Wt,_t.className=s,yt.className=s,yt.style.cssText=Ht,Ot.style.cssText=nt,$n.style.cssText=ut,ce.style.cssText=O,An.style.cssText=Et,Ot.appendChild($n),ce.appendChild(An),yt.appendChild(Ot),yt.appendChild(ce),_t.appendChild(yt),V.appendChild(_t);function En(){var U=r(b);U&&U.onExpand?U.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function In(){var U=r(b);U&&U.onShrink?U.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}g(Ot,"scroll",En),g(ce,"scroll",In),r(b).onExpandScroll=En,r(b).onShrinkScroll=In}function tt(){function M(nt,O,ut){var Et=k(nt),_t=I(O),yt=E(ut);Et.style.setProperty("width",_t+"px",w.important?"important":""),Et.style.setProperty("height",yt+"px",w.important?"important":"")}function W(nt){var O=b.offsetWidth,ut=b.offsetHeight,Et=O!==r(b).lastWidth||ut!==r(b).lastHeight;S("Storing current size",O,ut),p(b,O,ut),n.add(0,function(){if(Et){if(!r(b)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}if(w.debug){var yt=b.offsetWidth,Ot=b.offsetHeight;(yt!==O||Ot!==ut)&&e.warn(i.get(b),"Scroll: Size changed before updating detector elements.")}M(b,O,ut)}}),n.add(1,function(){if(!r(b)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}F(b,O,ut)}),Et&&nt&&n.add(2,function(){if(!r(b)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}nt()})}function V(){return!!r(b).container}function mt(){function nt(){return r(b).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var O=r(b);if(nt()&&O.lastWidth===O.startSize.width&&O.lastHeight===O.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(O.lastWidth===O.lastNotifiedWidth&&O.lastHeight===O.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),O.lastNotifiedWidth=O.lastWidth,O.lastNotifiedHeight=O.lastHeight,ia(r(b).listeners,function(ut){ut(b)})}function At(){if(S("startanimation triggered."),B(b)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var nt=v(b),O=_(b);(nt.scrollLeft===0||nt.scrollTop===0||O.scrollLeft===0||O.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),W(mt))}function Wt(){if(S("Scroll detected."),B(b)){S("Scroll event fired while unrendered. Ignoring...");return}W(mt)}if(S("registerListenersAndPositionElements invoked."),!r(b)){S("Aborting because element has been uninstalled");return}r(b).onRendered=At,r(b).onExpand=Wt,r(b).onShrink=Wt;var Ht=r(b).style;M(b,Ht.width,Ht.height)}function ft(){if(S("finalizeDomMutation invoked."),!r(b)){S("Aborting because element has been uninstalled");return}var M=r(b).style;p(b,M.width,M.height),F(b,M.width,M.height)}function et(){x(b)}function lt(){S("Installing..."),z(),A(),n.add(0,N),n.add(1,q),n.add(2,tt),n.add(3,ft),n.add(4,et)}S("Making detectable..."),R(b)?(S("Element is detached"),Q(),S("Waiting until element is attached..."),r(b).onRendered=function(){S("Element is now attached"),lt()}):lt()}function C(w){var b=r(w);b&&(b.onExpandScroll&&d(v(w),"scroll",b.onExpandScroll),b.onShrinkScroll&&d(_(w),"scroll",b.onShrinkScroll),b.onAnimationStart&&d(b.container,"animationstart",b.onAnimationStart),b.container&&w.removeChild(b.container))}return{makeDetectable:T,addListener:m,uninstall:C,initDocument:u}},ne=Nr.forEach,oa=qi,sa=Ui,la=Xi,ua=Gi,ca=Yi,Wn=Lr,fa=Qi,Ct=na,ha=ra,da=aa;function Hn(t){return Array.isArray(t)||t.length!==void 0}function On(t){if(Array.isArray(t))return t;var e=[];return ne(t,function(n){e.push(n)}),e}function Bn(t){return t&&t.nodeType===1}var ga=function(t){t=t||{};var e;if(t.idHandler)e={get:function(T){return t.idHandler.get(T,!0)},set:t.idHandler.set};else{var n=la(),r=ua({idGenerator:n,stateHandler:Ct});e=r}var i=t.reporter;if(!i){var a=i===!1;i=ca(a)}var o=Pt(t,"batchProcessor",fa({reporter:i})),s={};s.callOnAdd=!!Pt(t,"callOnAdd",!0),s.debug=!!Pt(t,"debug",!1);var u=sa(e),l=oa({stateHandler:Ct}),c,h=Pt(t,"strategy","object"),f=Pt(t,"important",!1),g={reporter:i,batchProcessor:o,stateHandler:Ct,idHandler:e,important:f};if(h==="scroll"&&(Wn.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),h="object"):Wn.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),h="object")),h==="scroll")c=da(g);else if(h==="object")c=ha(g);else throw new Error("Invalid strategy name: "+h);var d={};function v(T,C,w){function b(A){var z=u.get(A);ne(z,function(p){p(A)})}function x(A,z,N){u.add(z,N),A&&N(z)}if(w||(w=C,C=T,T={}),!C)throw new Error("At least one element required.");if(!w)throw new Error("Listener required.");if(Bn(C))C=[C];else if(Hn(C))C=On(C);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,R=Pt(T,"callOnAdd",s.callOnAdd),B=Pt(T,"onReady",function(){}),D=Pt(T,"debug",s.debug);ne(C,function(z){Ct.getState(z)||(Ct.initState(z),e.set(z));var N=e.get(z);if(D&&i.log("Attaching listener to element",N,z),!l.isDetectable(z)){if(D&&i.log(N,"Not detectable."),l.isBusy(z)){D&&i.log(N,"System busy making it detectable"),x(R,z,w),d[N]=d[N]||[],d[N].push(function(){S++,S===C.length&&B()});return}return D&&i.log(N,"Making detectable..."),l.markBusy(z,!0),c.makeDetectable({debug:D,important:f},z,function(k){if(D&&i.log(N,"onElementDetectable"),Ct.getState(k)){l.markAsDetectable(k),l.markBusy(k,!1),c.addListener(k,b),x(R,k,w);var y=Ct.getState(k);if(y&&y.startSize){var P=k.offsetWidth,I=k.offsetHeight;(y.startSize.width!==P||y.startSize.height!==I)&&b(k)}d[N]&&ne(d[N],function(E){E()})}else D&&i.log(N,"Element uninstalled before being detectable.");delete d[N],S++,S===C.length&&B()})}D&&i.log(N,"Already detecable, adding listener."),x(R,z,w),S++}),S===C.length&&B()}function _(T){if(!T)return i.error("At least one element is required.");if(Bn(T))T=[T];else if(Hn(T))T=On(T);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");ne(T,function(C){u.removeAllListeners(C),c.uninstall(C),Ct.cleanState(C)})}function m(T){c.initDocument&&c.initDocument(T)}return{listenTo:v,removeListener:u.removeListener,removeAllListeners:u.removeAllListeners,uninstall:_,initDocument:m}};function Pt(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}const pa=$i(ga);var ge=pa({strategy:"scroll"});function ma(t,e){ge.listenTo(t,e);var n=e;return{update:function(r){ge.removeListener(t,n),ge.listenTo(t,r),n=r},destroy:function(){ge.removeListener(t,n)}}}var Je="http://www.w3.org/1999/xhtml";const Fn={svg:"http://www.w3.org/2000/svg",xhtml:Je,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Fn.hasOwnProperty(e)?{space:Fn[e],local:t}:t}function ba(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Je&&e.documentElement.namespaceURI===Je?e.createElement(t):e.createElementNS(n,t)}}function va(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Or(t){var e=Oe(t);return(e.local?va:ba)(e)}function _a(){}function mn(t){return t==null?_a:function(){return this.querySelector(t)}}function ya(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=a[c])&&(l=t.call(u,u.__data__,c,a))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new st(r,this._parents)}function wa(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Sa(){return[]}function Br(t){return t==null?Sa:function(){return this.querySelectorAll(t)}}function ka(t){return function(){return wa(t.apply(this,arguments))}}function xa(t){typeof t=="function"?t=ka(t):t=Br(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new st(r,i)}function Fr(t){return function(){return this.matches(t)}}function jr(t){return function(e){return e.matches(t)}}var Ta=Array.prototype.find;function Ca(t){return function(){return Ta.call(this.children,t)}}function Pa(){return this.firstElementChild}function Ma(t){return this.select(t==null?Pa:Ca(typeof t=="function"?t:jr(t)))}var $a=Array.prototype.filter;function Aa(){return Array.from(this.children)}function Ea(t){return function(){return $a.call(this.children,t)}}function Ia(t){return this.selectAll(t==null?Aa:Ea(typeof t=="function"?t:jr(t)))}function za(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new st(r,this._parents)}function Vr(t){return new Array(t.length)}function Na(){return new st(this._enter||this._groups.map(Vr),this._parents)}function Ce(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ce.prototype={constructor:Ce,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ra(t){return function(){return t}}function Da(t,e,n,r,i,a){for(var o=0,s,u=e.length,l=a.length;o<l;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Ce(t,a[o]);for(;o<u;++o)(s=e[o])&&(i[o]=s)}function La(t,e,n,r,i,a,o){var s,u,l=new Map,c=e.length,h=a.length,f=new Array(c),g;for(s=0;s<c;++s)(u=e[s])&&(f[s]=g=o.call(u,u.__data__,s,e)+"",l.has(g)?i[s]=u:l.set(g,u));for(s=0;s<h;++s)g=o.call(t,a[s],s,a)+"",(u=l.get(g))?(r[s]=u,u.__data__=a[s],l.delete(g)):n[s]=new Ce(t,a[s]);for(s=0;s<c;++s)(u=e[s])&&l.get(f[s])===u&&(i[s]=u)}function Wa(t){return t.__data__}function Ha(t,e){if(!arguments.length)return Array.from(this,Wa);var n=e?La:Da,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ra(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,g=Oa(t.call(c,c&&c.__data__,l,r)),d=g.length,v=s[l]=new Array(d),_=o[l]=new Array(d),m=u[l]=new Array(f);n(c,h,v,_,m,g,e);for(var T=0,C=0,w,b;T<d;++T)if(w=v[T]){for(T>=C&&(C=T+1);!(b=_[C])&&++C<d;);w._next=b||null}}return o=new st(o,r),o._enter=s,o._exit=u,o}function Oa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ba(){return new st(this._exit||this._groups.map(Vr),this._parents)}function Fa(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ja(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],h=l.length,f=s[u]=new Array(h),g,d=0;d<h;++d)(g=l[d]||c[d])&&(f[d]=g);for(;u<i;++u)s[u]=n[u];return new st(s,this._parents)}function Va(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function qa(t){t||(t=Ua);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,u=i[a]=new Array(s),l,c=0;c<s;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new st(i,this._parents).order()}function Ua(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xa(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ga(){return Array.from(this)}function Ya(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Ka(){let t=0;for(const e of this)++t;return t}function Za(){return!this.node()}function Ja(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function Qa(t){return function(){this.removeAttribute(t)}}function to(t){return function(){this.removeAttributeNS(t.space,t.local)}}function eo(t,e){return function(){this.setAttribute(t,e)}}function no(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ro(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function io(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ao(t,e){var n=Oe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?to:Qa:typeof e=="function"?n.local?io:ro:n.local?no:eo)(n,e))}function qr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function oo(t){return function(){this.style.removeProperty(t)}}function so(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lo(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function uo(t,e,n){return arguments.length>1?this.each((e==null?oo:typeof e=="function"?lo:so)(t,e,n??"")):qt(this.node(),t)}function qt(t,e){return t.style.getPropertyValue(e)||qr(t).getComputedStyle(t,null).getPropertyValue(e)}function co(t){return function(){delete this[t]}}function fo(t,e){return function(){this[t]=e}}function ho(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function go(t,e){return arguments.length>1?this.each((e==null?co:typeof e=="function"?ho:fo)(t,e)):this.node()[t]}function Ur(t){return t.trim().split(/^|\s+/)}function bn(t){return t.classList||new Xr(t)}function Xr(t){this._node=t,this._names=Ur(t.getAttribute("class")||"")}Xr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Gr(t,e){for(var n=bn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Yr(t,e){for(var n=bn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function po(t){return function(){Gr(this,t)}}function mo(t){return function(){Yr(this,t)}}function bo(t,e){return function(){(e.apply(this,arguments)?Gr:Yr)(this,t)}}function vo(t,e){var n=Ur(t+"");if(arguments.length<2){for(var r=bn(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?bo:e?po:mo)(n,e))}function _o(){this.textContent=""}function yo(t){return function(){this.textContent=t}}function wo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function So(t){return arguments.length?this.each(t==null?_o:(typeof t=="function"?wo:yo)(t)):this.node().textContent}function ko(){this.innerHTML=""}function xo(t){return function(){this.innerHTML=t}}function To(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Co(t){return arguments.length?this.each(t==null?ko:(typeof t=="function"?To:xo)(t)):this.node().innerHTML}function Po(){this.nextSibling&&this.parentNode.appendChild(this)}function Mo(){return this.each(Po)}function $o(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ao(){return this.each($o)}function Eo(t){var e=typeof t=="function"?t:Or(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Io(){return null}function zo(t,e){var n=typeof t=="function"?t:Or(t),r=e==null?Io:typeof e=="function"?e:mn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function No(){var t=this.parentNode;t&&t.removeChild(this)}function Ro(){return this.each(No)}function Do(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Lo(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wo(t){return this.select(t?Lo:Do)}function Ho(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Oo(t){return function(e){t.call(this,e,this.__data__)}}function Bo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Fo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function jo(t,e,n){return function(){var r=this.__on,i,a=Oo(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Vo(t,e,n){var r=Bo(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(s=e?jo:Fo,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function Kr(t,e,n){var r=qr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qo(t,e){return function(){return Kr(this,t,e)}}function Uo(t,e){return function(){return Kr(this,t,e.apply(this,arguments))}}function Xo(t,e){return this.each((typeof e=="function"?Uo:qo)(t,e))}function*Go(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Zr=[null];function st(t,e){this._groups=t,this._parents=e}function Gt(){return new st([[document.documentElement]],Zr)}function Yo(){return this}st.prototype=Gt.prototype={constructor:st,select:ya,selectAll:xa,selectChild:Ma,selectChildren:Ia,filter:za,data:Ha,enter:Na,exit:Ba,join:Fa,merge:ja,selection:Yo,order:Va,sort:qa,call:Xa,nodes:Ga,node:Ya,size:Ka,empty:Za,each:Ja,attr:ao,style:uo,property:go,classed:vo,text:So,html:Co,raise:Mo,lower:Ao,append:Eo,insert:zo,remove:Ro,clone:Wo,datum:Ho,on:Vo,dispatch:Xo,[Symbol.iterator]:Go};function ct(t){return typeof t=="string"?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],Zr)}function Ko(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Mt(t,e){if(t=Ko(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function we(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zo(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jr(t){let e,n,r;t.length!==2?(e=we,n=(s,u)=>we(t(s),u),r=(s,u)=>t(s)-u):(e=t===we||t===Zo?t:Jo,n=t,r=t);function i(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<0?l=h+1:c=h}while(l<c)}return l}function a(s,u,l=0,c=s.length){if(l<c){if(e(u,u)!==0)return c;do{const h=l+c>>>1;n(s[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function o(s,u,l=0,c=s.length){const h=i(s,u,l,c-1);return h>l&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:i,center:o,right:a}}function Jo(){return 0}function Qo(t){return t===null?NaN:+t}const ts=Jr(we),es=ts.right;Jr(Qo).center;const ns=es,rs=Math.sqrt(50),is=Math.sqrt(10),as=Math.sqrt(2);function Pe(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=rs?10:a>=is?5:a>=as?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(t*l),u=Math.round(e*l),s/l<t&&++s,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,s=Math.round(t/l),u=Math.round(e/l),s*l<t&&++s,u*l>e&&--u),u<s&&.5<=n&&n<2?Pe(t,e,n*2):[s,u,l]}function os(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Pe(e,t,n):Pe(t,e,n);if(!(a>=i))return[];const s=a-i+1,u=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)u[l]=(a-l)/-o;else for(let l=0;l<s;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(i+l)/-o;else for(let l=0;l<s;++l)u[l]=(i+l)*o;return u}function Qe(t,e,n){return e=+e,t=+t,n=+n,Pe(t,e,n)[2]}function ss(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qe(e,t,n):Qe(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ue(){}var oe=.7,Me=1/oe,Vt="\\s*([+-]?\\d+)\\s*",se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",us=/^#([0-9a-f]{3,8})$/,cs=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),fs=new RegExp(`^rgb\\(${bt},${bt},${bt}\\)$`),hs=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${se}\\)$`),ds=new RegExp(`^rgba\\(${bt},${bt},${bt},${se}\\)$`),gs=new RegExp(`^hsl\\(${se},${bt},${bt}\\)$`),ps=new RegExp(`^hsla\\(${se},${bt},${bt},${se}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vn(ue,Dt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vn,formatHex:Vn,formatHex8:ms,formatHsl:bs,formatRgb:qn,toString:qn});function Vn(){return this.rgb().formatHex()}function ms(){return this.rgb().formatHex8()}function bs(){return ti(this).formatHsl()}function qn(){return this.rgb().formatRgb()}function Dt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=us.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Un(e):n===3?new J(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pe(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=cs.exec(t))?new J(e[1],e[2],e[3],1):(e=fs.exec(t))?new J(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=hs.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=ds.exec(t))?pe(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gs.exec(t))?Yn(e[1],e[2]/100,e[3]/100,1):(e=ps.exec(t))?Yn(e[1],e[2]/100,e[3]/100,e[4]):jn.hasOwnProperty(t)?Un(jn[t]):t==="transparent"?new J(NaN,NaN,NaN,0):null}function Un(t){return new J(t>>16&255,t>>8&255,t&255,1)}function pe(t,e,n,r){return r<=0&&(t=e=n=NaN),new J(t,e,n,r)}function vs(t){return t instanceof ue||(t=Dt(t)),t?(t=t.rgb(),new J(t.r,t.g,t.b,t.opacity)):new J}function tn(t,e,n,r){return arguments.length===1?vs(t):new J(t,e,n,r??1)}function J(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vn(J,tn,Qr(ue,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new J(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new J(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new J(Rt(this.r),Rt(this.g),Rt(this.b),$e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xn,formatHex:Xn,formatHex8:_s,formatRgb:Gn,toString:Gn}));function Xn(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function _s(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Gn(){const t=$e(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function $e(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function Yn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new dt(t,e,n,r)}function ti(t){if(t instanceof dt)return new dt(t.h,t.s,t.l,t.opacity);if(t instanceof ue||(t=Dt(t)),!t)return new dt;if(t instanceof dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new dt(o,s,u,t.opacity)}function ys(t,e,n,r){return arguments.length===1?ti(t):new dt(t,e,n,r??1)}function dt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vn(dt,ys,Qr(ue,{brighter(t){return t=t==null?Me:Math.pow(Me,t),new dt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new dt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new J(Ue(t>=240?t-240:t+120,i,r),Ue(t,i,r),Ue(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new dt(Kn(this.h),me(this.s),me(this.l),$e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$e(this.opacity);return`${t===1?"hsl(":"hsla("}${Kn(this.h)}, ${me(this.s)*100}%, ${me(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kn(t){return t=(t||0)%360,t<0?t+360:t}function me(t){return Math.max(0,Math.min(1,t||0))}function Ue(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _n=t=>()=>t;function ws(t,e){return function(n){return t+n*e}}function Ss(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ks(t){return(t=+t)==1?ei:function(e,n){return n-e?Ss(e,n,t):_n(isNaN(e)?n:e)}}function ei(t,e){var n=e-t;return n?ws(t,n):_n(isNaN(t)?e:t)}const Ae=function t(e){var n=ks(e);function r(i,a){var o=n((i=tn(i)).r,(a=tn(a)).r),s=n(i.g,a.g),u=n(i.b,a.b),l=ei(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function xs(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Ts(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cs(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Be(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Ps(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function K(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ms(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Be(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var en=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xe=new RegExp(en.source,"g");function $s(t){return function(){return t}}function As(t){return function(e){return t(e)+""}}function ni(t,e){var n=en.lastIndex=Xe.lastIndex=0,r,i,a,o=-1,s=[],u=[];for(t=t+"",e=e+"";(r=en.exec(t))&&(i=Xe.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:K(r,i)})),n=Xe.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?As(u[0].x):$s(e):(e=u.length,function(l){for(var c=0,h;c<e;++c)s[(h=u[c]).i]=h.x(l);return s.join("")})}function Be(t,e){var n=typeof e,r;return e==null||n==="boolean"?_n(e):(n==="number"?K:n==="string"?(r=Dt(e))?(e=r,Ae):ni:e instanceof Dt?Ae:e instanceof Date?Ps:Ts(e)?xs:Array.isArray(e)?Cs:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ms:K)(t,e)}function Es(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Zn=180/Math.PI,nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ri(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Zn,skewX:Math.atan(u)*Zn,scaleX:o,scaleY:s}}var be;function Is(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?nn:ri(e.a,e.b,e.c,e.d,e.e,e.f)}function zs(t){return t==null||(be||(be=document.createElementNS("http://www.w3.org/2000/svg","g")),be.setAttribute("transform",t),!(t=be.transform.baseVal.consolidate()))?nn:(t=t.matrix,ri(t.a,t.b,t.c,t.d,t.e,t.f))}function ii(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function a(l,c,h,f,g,d){if(l!==h||c!==f){var v=g.push("translate(",null,e,null,n);d.push({i:v-4,x:K(l,h)},{i:v-2,x:K(c,f)})}else(h||f)&&g.push("translate("+h+e+f+n)}function o(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:K(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function s(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:K(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function u(l,c,h,f,g,d){if(l!==h||c!==f){var v=g.push(i(g)+"scale(",null,",",null,")");d.push({i:v-4,x:K(l,h)},{i:v-2,x:K(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),a(l.translateX,l.translateY,c.translateX,c.translateY,h,f),o(l.rotate,c.rotate,h,f),s(l.skewX,c.skewX,h,f),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(g){for(var d=-1,v=f.length,_;++d<v;)h[(_=f[d]).i]=_.x(g);return h.join("")}}}var Ns=ii(Is,"px, ","px)","deg)"),Rs=ii(zs,", ",")",")"),Ds=1e-12;function Jn(t){return((t=Math.exp(t))+1/t)/2}function Ls(t){return((t=Math.exp(t))-1/t)/2}function Ws(t){return((t=Math.exp(2*t))-1)/(t+1)}const Hs=function t(e,n,r){function i(a,o){var s=a[0],u=a[1],l=a[2],c=o[0],h=o[1],f=o[2],g=c-s,d=h-u,v=g*g+d*d,_,m;if(v<Ds)m=Math.log(f/l)/e,_=function(S){return[s+S*g,u+S*d,l*Math.exp(e*S*m)]};else{var T=Math.sqrt(v),C=(f*f-l*l+r*v)/(2*l*n*T),w=(f*f-l*l-r*v)/(2*f*n*T),b=Math.log(Math.sqrt(C*C+1)-C),x=Math.log(Math.sqrt(w*w+1)-w);m=(x-b)/e,_=function(S){var R=S*m,B=Jn(b),D=l/(n*T)*(B*Ws(e*R+b)-Ls(b));return[s+D*g,u+D*d,l*B/Jn(e*R+b)]}}return _.duration=m*1e3*e/Math.SQRT2,_}return i.rho=function(a){var o=Math.max(.001,+a),s=o*o,u=s*s;return t(o,s,u)},i}(Math.SQRT2,2,4);function Os(t){return function(){return t}}function Bs(t){return+t}var Qn=[0,1];function Ft(t){return t}function rn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Os(isNaN(e)?NaN:.5)}function Fs(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function js(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=rn(i,r),a=n(o,a)):(r=rn(r,i),a=n(a,o)),function(s){return a(r(s))}}function Vs(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=rn(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var u=ns(t,s,1,r)-1;return a[u](i[u](s))}}function qs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Us(){var t=Qn,e=Qn,n=Be,r,i,a,o=Ft,s,u,l;function c(){var f=Math.min(t.length,e.length);return o!==Ft&&(o=Fs(t[0],t[f-1])),s=f>2?Vs:js,u=l=null,h}function h(f){return f==null||isNaN(f=+f)?a:(u||(u=s(t.map(r),e,n)))(r(o(f)))}return h.invert=function(f){return o(i((l||(l=s(e,t.map(r),K)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Bs),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Es,c()},h.clamp=function(f){return arguments.length?(o=f?!0:Ft,c()):o!==Ft},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,g){return r=f,i=g,c()}}function Xs(){return Us()(Ft,Ft)}function Gs(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ee(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ut(t){return t=Ee(Math.abs(t)),t?t[1]:NaN}function Ys(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Ks(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Zs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ie(t){if(!(e=Zs.exec(t)))throw new Error("invalid format: "+t);var e;return new yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ie.prototype=yn.prototype;function yn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Js(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ai;function Qs(t,e){var n=Ee(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(ai=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ee(t,Math.max(0,e+a-1))[0]}function tr(t,e){var n=Ee(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const er={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gs,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tr(t*100,e),r:tr,s:Qs,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nr(t){return t}var rr=Array.prototype.map,ir=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tl(t){var e=t.grouping===void 0||t.thousands===void 0?nr:Ys(rr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?nr:Ks(rr.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Ie(h);var f=h.fill,g=h.align,d=h.sign,v=h.symbol,_=h.zero,m=h.width,T=h.comma,C=h.precision,w=h.trim,b=h.type;b==="n"?(T=!0,b="g"):er[b]||(C===void 0&&(C=12),w=!0,b="g"),(_||f==="0"&&g==="=")&&(_=!0,f="0",g="=");var x=v==="$"?n:v==="#"&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",S=v==="$"?r:/[%p]/.test(b)?o:"",R=er[b],B=/[defgprs%]/.test(b);C=C===void 0?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function D(A){var z=x,N=S,p,k,y;if(b==="c")N=R(A)+N,A="";else{A=+A;var P=A<0||1/A<0;if(A=isNaN(A)?u:R(Math.abs(A),C),w&&(A=Js(A)),P&&+A==0&&d!=="+"&&(P=!1),z=(P?d==="("?d:s:d==="-"||d==="("?"":d)+z,N=(b==="s"?ir[8+ai/3]:"")+N+(P&&d==="("?")":""),B){for(p=-1,k=A.length;++p<k;)if(y=A.charCodeAt(p),48>y||y>57){N=(y===46?i+A.slice(p+1):A.slice(p))+N,A=A.slice(0,p);break}}}T&&!_&&(A=e(A,1/0));var I=z.length+A.length+N.length,E=I<m?new Array(m-I+1).join(f):"";switch(T&&_&&(A=e(E+A,E.length?m-N.length:1/0),E=""),g){case"<":A=z+A+N+E;break;case"=":A=z+E+A+N;break;case"^":A=E.slice(0,I=E.length>>1)+z+A+N+E.slice(I);break;default:A=E+z+A+N;break}return a(A)}return D.toString=function(){return h+""},D}function c(h,f){var g=l((h=Ie(h),h.type="f",h)),d=Math.max(-8,Math.min(8,Math.floor(Ut(f)/3)))*3,v=Math.pow(10,-d),_=ir[8+d/3];return function(m){return g(v*m)+_}}return{format:l,formatPrefix:c}}var ve,oi,si;el({thousands:",",grouping:[3],currency:["$",""]});function el(t){return ve=tl(t),oi=ve.format,si=ve.formatPrefix,ve}function nl(t){return Math.max(0,-Ut(Math.abs(t)))}function rl(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ut(e)/3)))*3-Ut(Math.abs(t)))}function il(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ut(e)-Ut(t))+1}function al(t,e,n,r){var i=ss(t,e,n),a;switch(r=Ie(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=rl(i,o))&&(r.precision=a),si(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=il(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=nl(i))&&(r.precision=a-(r.type==="%")*2);break}}return oi(r)}function ol(t){var e=t.domain;return t.ticks=function(n){var r=e();return os(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return al(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],u,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=Qe(o,s,n),l===u)return r[i]=o,r[a]=s,e(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return t},t}function wn(){var t=Xs();return t.copy=function(){return qs(t,wn())},ls.apply(t,arguments),ol(t)}function sl(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function ll(){return this.eachAfter(sl)}function ul(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function cl(t,e){for(var n=this,r=[n],i,a,o=-1;n=r.pop();)if(t.call(e,n,++o,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function fl(t,e){for(var n=this,r=[n],i=[],a,o,s,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(o=0,s=a.length;o<s;++o)r.push(a[o]);for(;n=i.pop();)t.call(e,n,++u,this);return this}function hl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function dl(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function gl(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function pl(t){for(var e=this,n=ml(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function ml(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function bl(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function vl(){return Array.from(this)}function _l(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function yl(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*wl(){var t=this,e,n=[t],r,i,a;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function Sn(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=xl)):e===void 0&&(e=kl);for(var n=new ze(t),r,i=[n],a,o,s,u;r=i.pop();)if((o=e(r.data))&&(u=(o=Array.from(o)).length))for(r.children=o,s=u-1;s>=0;--s)i.push(a=o[s]=new ze(o[s])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Cl)}function Sl(){return Sn(this).eachBefore(Tl)}function kl(t){return t.children}function xl(t){return Array.isArray(t)?t[1]:null}function Tl(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Cl(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ze(t){this.data=t,this.depth=this.height=0,this.parent=null}ze.prototype=Sn.prototype={constructor:ze,count:ll,each:ul,eachAfter:fl,eachBefore:cl,find:hl,sum:dl,sort:gl,path:pl,ancestors:bl,descendants:vl,leaves:_l,links:yl,copy:Sl,[Symbol.iterator]:wl};function Pl(t){if(typeof t!="function")throw new Error;return t}function Kt(){return 0}function Zt(t){return function(){return t}}function Ml(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function $l(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)o=a[s],o.y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}function Al(t,e,n,r,i){for(var a=t.children,o,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)o=a[s],o.x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var El=(1+Math.sqrt(5))/2;function Il(t,e,n,r,i,a){for(var o=[],s=e.children,u,l,c=0,h=0,f=s.length,g,d,v=e.value,_,m,T,C,w,b,x;c<f;){g=i-n,d=a-r;do _=s[h++].value;while(!_&&h<f);for(m=T=_,b=Math.max(d/g,g/d)/(v*t),x=_*_*b,w=Math.max(T/x,x/m);h<f;++h){if(_+=l=s[h].value,l<m&&(m=l),l>T&&(T=l),x=_*_*b,C=Math.max(T/x,x/m),C>w){_-=l;break}w=C}o.push(u={value:_,dice:g<d,children:s.slice(c,h)}),u.dice?$l(u,n,r,i,v?r+=d*_/v:a):Al(u,n,r,v?n+=g*_/v:i,a),v-=_,c=h}return o}const zl=function t(e){function n(r,i,a,o,s){Il(e,r,i,a,o,s)}return n.ratio=function(r){return t((r=+r)>1?r:1)},n}(El);function Nl(){var t=zl,e=!1,n=1,r=1,i=[0],a=Kt,o=Kt,s=Kt,u=Kt,l=Kt;function c(f){return f.x0=f.y0=0,f.x1=n,f.y1=r,f.eachBefore(h),i=[0],e&&f.eachBefore(Ml),f}function h(f){var g=i[f.depth],d=f.x0+g,v=f.y0+g,_=f.x1-g,m=f.y1-g;_<d&&(d=_=(d+_)/2),m<v&&(v=m=(v+m)/2),f.x0=d,f.y0=v,f.x1=_,f.y1=m,f.children&&(g=i[f.depth+1]=a(f)/2,d+=l(f)-g,v+=o(f)-g,_-=s(f)-g,m-=u(f)-g,_<d&&(d=_=(d+_)/2),m<v&&(v=m=(v+m)/2),t(f,d,v,_,m))}return c.round=function(f){return arguments.length?(e=!!f,c):e},c.size=function(f){return arguments.length?(n=+f[0],r=+f[1],c):[n,r]},c.tile=function(f){return arguments.length?(t=Pl(f),c):t},c.padding=function(f){return arguments.length?c.paddingInner(f).paddingOuter(f):c.paddingInner()},c.paddingInner=function(f){return arguments.length?(a=typeof f=="function"?f:Zt(+f),c):a},c.paddingOuter=function(f){return arguments.length?c.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):c.paddingTop()},c.paddingTop=function(f){return arguments.length?(o=typeof f=="function"?f:Zt(+f),c):o},c.paddingRight=function(f){return arguments.length?(s=typeof f=="function"?f:Zt(+f),c):s},c.paddingBottom=function(f){return arguments.length?(u=typeof f=="function"?f:Zt(+f),c):u},c.paddingLeft=function(f){return arguments.length?(l=typeof f=="function"?f:Zt(+f),c):l},c}var Rl={value:()=>{}};function kn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Se(n)}function Se(t){this._=t}function Dl(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Se.prototype=kn.prototype={constructor:Se,on:function(t,e){var n=this._,r=Dl(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Ll(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=ar(n[i],t.name,e);else if(e==null)for(i in n)n[i]=ar(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Se(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Ll(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ar(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Xt=0,re=0,Jt=0,li=1e3,Ne,ie,Re=0,Lt=0,Fe=0,le=typeof performance=="object"&&performance.now?performance:Date,ui=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xn(){return Lt||(ui(Wl),Lt=le.now()+Fe)}function Wl(){Lt=0}function De(){this._call=this._time=this._next=null}De.prototype=ci.prototype={constructor:De,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?xn():+n)+(e==null?0:+e),!this._next&&ie!==this&&(ie?ie._next=this:Ne=this,ie=this),this._call=t,this._time=n,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};function ci(t,e,n){var r=new De;return r.restart(t,e,n),r}function Hl(){xn(),++Xt;for(var t=Ne,e;t;)(e=Lt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Xt}function or(){Lt=(Re=le.now())+Fe,Xt=re=0;try{Hl()}finally{Xt=0,Bl(),Lt=0}}function Ol(){var t=le.now(),e=t-Re;e>li&&(Fe-=e,Re=t)}function Bl(){for(var t,e=Ne,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ne=n);ie=t,an(r)}function an(t){if(!Xt){re&&(re=clearTimeout(re));var e=t-Lt;e>24?(t<1/0&&(re=setTimeout(or,t-le.now()-Fe)),Jt&&(Jt=clearInterval(Jt))):(Jt||(Re=le.now(),Jt=setInterval(Ol,li)),Xt=1,ui(or))}}function sr(t,e,n){var r=new De;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Fl=kn("start","end","cancel","interrupt"),jl=[],fi=0,lr=1,on=2,ke=3,ur=4,sn=5,xe=6;function je(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Vl(t,n,{name:e,index:r,group:i,on:Fl,tween:jl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:fi})}function Tn(t,e){var n=pt(t,e);if(n.state>fi)throw new Error("too late; already scheduled");return n}function vt(t,e){var n=pt(t,e);if(n.state>ke)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Vl(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=ci(a,0,n.time);function a(l){n.state=lr,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,h,f,g;if(n.state!==lr)return u();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ke)return sr(o);g.state===ur?(g.state=xe,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[c]):+c<e&&(g.state=xe,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[c])}if(sr(function(){n.state===ke&&(n.state=ur,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=on,n.on.call("start",t,t.__data__,n.index,n.group),n.state===on){for(n.state=ke,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(g=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function s(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=sn,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===sn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=xe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Te(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>on&&r.state<sn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function ql(t){return this.each(function(){Te(this,t)})}function Ul(t,e){var n,r;return function(){var i=vt(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Xl(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=vt(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Gl(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Ul:Xl)(n,t,e))}function Cn(t,e,n){var r=t._id;return t.each(function(){var i=vt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function hi(t,e){var n;return(typeof e=="number"?K:e instanceof Dt?Ae:(n=Dt(e))?(e=n,Ae):ni)(t,e)}function Yl(t){return function(){this.removeAttribute(t)}}function Kl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zl(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Jl(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Ql(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function tu(t,e,n){var r,i,a;return function(){var o,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=s+"",o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s)))}}function eu(t,e){var n=Oe(t),r=n==="transform"?Rs:hi;return this.attrTween(t,typeof e=="function"?(n.local?tu:Ql)(n,r,Cn(this,"attr."+t,e)):e==null?(n.local?Kl:Yl)(n):(n.local?Jl:Zl)(n,r,e))}function nu(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ru(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function iu(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&ru(t,a)),n}return i._value=e,i}function au(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&nu(t,a)),n}return i._value=e,i}function ou(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Oe(t);return this.tween(n,(r.local?iu:au)(r,e))}function su(t,e){return function(){Tn(this,t).delay=+e.apply(this,arguments)}}function lu(t,e){return e=+e,function(){Tn(this,t).delay=e}}function uu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?su:lu)(e,t)):pt(this.node(),e).delay}function cu(t,e){return function(){vt(this,t).duration=+e.apply(this,arguments)}}function fu(t,e){return e=+e,function(){vt(this,t).duration=e}}function hu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cu:fu)(e,t)):pt(this.node(),e).duration}function du(t,e){if(typeof e!="function")throw new Error;return function(){vt(this,t).ease=e}}function gu(t){var e=this._id;return arguments.length?this.each(du(e,t)):pt(this.node(),e).ease}function pu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,t).ease=n}}function mu(t){if(typeof t!="function")throw new Error;return this.each(pu(this._id,t))}function bu(t){typeof t!="function"&&(t=Fr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],u,l=0;l<o;++l)(u=a[l])&&t.call(u,u.__data__,l,a)&&s.push(u);return new Tt(r,this._parents,this._name,this._id)}function vu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u=e[s],l=n[s],c=u.length,h=o[s]=new Array(c),f,g=0;g<c;++g)(f=u[g]||l[g])&&(h[g]=f);for(;s<r;++s)o[s]=e[s];return new Tt(o,this._parents,this._name,this._id)}function _u(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yu(t,e,n){var r,i,a=_u(e)?Tn:vt;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function wu(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(yu(n,t,e))}function Su(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function ku(){return this.on("end.remove",Su(this._id))}function xu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],u=s.length,l=a[o]=new Array(u),c,h,f=0;f<u;++f)(c=s[f])&&(h=t.call(c,c.__data__,f,s))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,je(l[f],e,n,f,l,pt(c,n)));return new Tt(a,this._parents,e,n)}function Tu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Br(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u=r[s],l=u.length,c,h=0;h<l;++h)if(c=u[h]){for(var f=t.call(c,c.__data__,h,u),g,d=pt(c,n),v=0,_=f.length;v<_;++v)(g=f[v])&&je(g,e,n,v,f,d);a.push(f),o.push(c)}return new Tt(a,o,e,n)}var Cu=Gt.prototype.constructor;function Pu(){return new Cu(this._groups,this._parents)}function Mu(t,e){var n,r,i;return function(){var a=qt(this,t),o=(this.style.removeProperty(t),qt(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function di(t){return function(){this.style.removeProperty(t)}}function $u(t,e,n){var r,i=n+"",a;return function(){var o=qt(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function Au(t,e,n){var r,i,a;return function(){var o=qt(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),qt(this,t))),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Eu(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var u=vt(this,t),l=u.on,c=u.value[a]==null?s||(s=di(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function Iu(t,e,n){var r=(t+="")=="transform"?Ns:hi;return e==null?this.styleTween(t,Mu(t,r)).on("end.style."+t,di(t)):typeof e=="function"?this.styleTween(t,Au(t,r,Cn(this,"style."+t,e))).each(Eu(this._id,t)):this.styleTween(t,$u(t,r,e),n).on("end.style."+t,null)}function zu(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Nu(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&zu(t,o,n)),r}return a._value=e,a}function Ru(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Nu(t,e,n??""))}function Du(t){return function(){this.textContent=t}}function Lu(t){return function(){var e=t(this);this.textContent=e??""}}function Wu(t){return this.tween("text",typeof t=="function"?Lu(Cn(this,"text",t)):Du(t==null?"":t+""))}function Hu(t){return function(e){this.textContent=t.call(this,e)}}function Ou(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Hu(i)),e}return r._value=t,r}function Bu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ou(t))}function Fu(){for(var t=this._name,e=this._id,n=gi(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var c=pt(u,e);je(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Tt(r,this._parents,t,n)}function ju(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var l=vt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),l.on=e}),i===0&&a()})}var Vu=0;function Tt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Pn(t){return Gt().transition(t)}function gi(){return++Vu}var St=Gt.prototype;Tt.prototype=Pn.prototype={constructor:Tt,select:xu,selectAll:Tu,selectChild:St.selectChild,selectChildren:St.selectChildren,filter:bu,merge:vu,selection:Pu,transition:Fu,call:St.call,nodes:St.nodes,node:St.node,size:St.size,empty:St.empty,each:St.each,on:wu,attr:eu,attrTween:ou,style:Iu,styleTween:Ru,text:Wu,textTween:Bu,remove:ku,tween:Gl,delay:uu,duration:hu,ease:gu,easeVarying:mu,end:ju,[Symbol.iterator]:St[Symbol.iterator]};function qu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Uu={time:null,delay:0,duration:250,ease:qu};function Xu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Gu(t){var e,n;t instanceof Tt?(e=t._id,t=t._name):(e=gi(),(n=Uu).time=xn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,u,l=0;l<s;++l)(u=o[l])&&je(u,t,e,l,o,n||Xu(u,e));return new Tt(r,this._parents,t,e)}Gt.prototype.interrupt=ql;Gt.prototype.transition=Gu;const ln={capture:!0,passive:!1};function un(t){t.preventDefault(),t.stopImmediatePropagation()}function Yu(t){var e=t.document.documentElement,n=ct(t).on("dragstart.drag",un,ln);"onselectstart"in e?n.on("selectstart.drag",un,ln):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ku(t,e){var n=t.document.documentElement,r=ct(t).on("dragstart.drag",null);e&&(r.on("click.drag",un,ln),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _e=t=>()=>t;function Zu(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xt(t,e,n){this.k=t,this.x=e,this.y=n}xt.prototype={constructor:xt,scale:function(t){return t===1?this:new xt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Le=new xt(1,0,0);xt.prototype;function Ge(t){t.stopImmediatePropagation()}function Qt(t){t.preventDefault(),t.stopImmediatePropagation()}function Ju(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Qu(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function cr(){return this.__zoom||Le}function tc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ec(){return navigator.maxTouchPoints||"ontouchstart"in this}function nc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function rc(){var t=Ju,e=Qu,n=nc,r=tc,i=ec,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Hs,l=kn("start","zoom","end"),c,h,f,g=500,d=150,v=0,_=10;function m(p){p.property("__zoom",cr).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",A).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,k,y,P){var I=p.selection?p.selection():p;I.property("__zoom",cr),p!==I?b(p,k,y,P):I.interrupt().each(function(){x(this,arguments).event(P).start().zoom(null,typeof k=="function"?k.apply(this,arguments):k).end()})},m.scaleBy=function(p,k,y,P){m.scaleTo(p,function(){var I=this.__zoom.k,E=typeof k=="function"?k.apply(this,arguments):k;return I*E},y,P)},m.scaleTo=function(p,k,y,P){m.transform(p,function(){var I=e.apply(this,arguments),E=this.__zoom,L=y==null?w(I):typeof y=="function"?y.apply(this,arguments):y,H=E.invert(L),F=typeof k=="function"?k.apply(this,arguments):k;return n(C(T(E,F),L,H),I,o)},y,P)},m.translateBy=function(p,k,y,P){m.transform(p,function(){return n(this.__zoom.translate(typeof k=="function"?k.apply(this,arguments):k,typeof y=="function"?y.apply(this,arguments):y),e.apply(this,arguments),o)},null,P)},m.translateTo=function(p,k,y,P,I){m.transform(p,function(){var E=e.apply(this,arguments),L=this.__zoom,H=P==null?w(E):typeof P=="function"?P.apply(this,arguments):P;return n(Le.translate(H[0],H[1]).scale(L.k).translate(typeof k=="function"?-k.apply(this,arguments):-k,typeof y=="function"?-y.apply(this,arguments):-y),E,o)},P,I)};function T(p,k){return k=Math.max(a[0],Math.min(a[1],k)),k===p.k?p:new xt(k,p.x,p.y)}function C(p,k,y){var P=k[0]-y[0]*p.k,I=k[1]-y[1]*p.k;return P===p.x&&I===p.y?p:new xt(p.k,P,I)}function w(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function b(p,k,y,P){p.on("start.zoom",function(){x(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(P).end()}).tween("zoom",function(){var I=this,E=arguments,L=x(I,E).event(P),H=e.apply(I,E),F=y==null?w(H):typeof y=="function"?y.apply(I,E):y,Q=Math.max(H[1][0]-H[0][0],H[1][1]-H[0][1]),q=I.__zoom,tt=typeof k=="function"?k.apply(I,E):k,ft=u(q.invert(F).concat(Q/q.k),tt.invert(F).concat(Q/tt.k));return function(et){if(et===1)et=tt;else{var lt=ft(et),M=Q/lt[2];et=new xt(M,F[0]-lt[0]*M,F[1]-lt[1]*M)}L.zoom(null,et)}})}function x(p,k,y){return!y&&p.__zooming||new S(p,k)}function S(p,k){this.that=p,this.args=k,this.active=0,this.sourceEvent=null,this.extent=e.apply(p,k),this.taps=0}S.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,k){return this.mouse&&p!=="mouse"&&(this.mouse[1]=k.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=k.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=k.invert(this.touch1[0])),this.that.__zoom=k,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var k=ct(this.that).datum();l.call(p,this.that,new Zu(p,{sourceEvent:this.sourceEvent,target:m,type:p,transform:this.that.__zoom,dispatch:l}),k)}};function R(p,...k){if(!t.apply(this,arguments))return;var y=x(this,k).event(p),P=this.__zoom,I=Math.max(a[0],Math.min(a[1],P.k*Math.pow(2,r.apply(this,arguments)))),E=Mt(p);if(y.wheel)(y.mouse[0][0]!==E[0]||y.mouse[0][1]!==E[1])&&(y.mouse[1]=P.invert(y.mouse[0]=E)),clearTimeout(y.wheel);else{if(P.k===I)return;y.mouse=[E,P.invert(E)],Te(this),y.start()}Qt(p),y.wheel=setTimeout(L,d),y.zoom("mouse",n(C(T(P,I),y.mouse[0],y.mouse[1]),y.extent,o));function L(){y.wheel=null,y.end()}}function B(p,...k){if(f||!t.apply(this,arguments))return;var y=p.currentTarget,P=x(this,k,!0).event(p),I=ct(p.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",Q,!0),E=Mt(p,y),L=p.clientX,H=p.clientY;Yu(p.view),Ge(p),P.mouse=[E,this.__zoom.invert(E)],Te(this),P.start();function F(q){if(Qt(q),!P.moved){var tt=q.clientX-L,ft=q.clientY-H;P.moved=tt*tt+ft*ft>v}P.event(q).zoom("mouse",n(C(P.that.__zoom,P.mouse[0]=Mt(q,y),P.mouse[1]),P.extent,o))}function Q(q){I.on("mousemove.zoom mouseup.zoom",null),Ku(q.view,P.moved),Qt(q),P.event(q).end()}}function D(p,...k){if(t.apply(this,arguments)){var y=this.__zoom,P=Mt(p.changedTouches?p.changedTouches[0]:p,this),I=y.invert(P),E=y.k*(p.shiftKey?.5:2),L=n(C(T(y,E),P,I),e.apply(this,k),o);Qt(p),s>0?ct(this).transition().duration(s).call(b,L,P,p):ct(this).call(m.transform,L,P,p)}}function A(p,...k){if(t.apply(this,arguments)){var y=p.touches,P=y.length,I=x(this,k,p.changedTouches.length===P).event(p),E,L,H,F;for(Ge(p),L=0;L<P;++L)H=y[L],F=Mt(H,this),F=[F,this.__zoom.invert(F),H.identifier],I.touch0?!I.touch1&&I.touch0[2]!==F[2]&&(I.touch1=F,I.taps=0):(I.touch0=F,E=!0,I.taps=1+!!c);c&&(c=clearTimeout(c)),E&&(I.taps<2&&(h=F[0],c=setTimeout(function(){c=null},g)),Te(this),I.start())}}function z(p,...k){if(this.__zooming){var y=x(this,k).event(p),P=p.changedTouches,I=P.length,E,L,H,F;for(Qt(p),E=0;E<I;++E)L=P[E],H=Mt(L,this),y.touch0&&y.touch0[2]===L.identifier?y.touch0[0]=H:y.touch1&&y.touch1[2]===L.identifier&&(y.touch1[0]=H);if(L=y.that.__zoom,y.touch1){var Q=y.touch0[0],q=y.touch0[1],tt=y.touch1[0],ft=y.touch1[1],et=(et=tt[0]-Q[0])*et+(et=tt[1]-Q[1])*et,lt=(lt=ft[0]-q[0])*lt+(lt=ft[1]-q[1])*lt;L=T(L,Math.sqrt(et/lt)),H=[(Q[0]+tt[0])/2,(Q[1]+tt[1])/2],F=[(q[0]+ft[0])/2,(q[1]+ft[1])/2]}else if(y.touch0)H=y.touch0[0],F=y.touch0[1];else return;y.zoom("touch",n(C(L,H,F),y.extent,o))}}function N(p,...k){if(this.__zooming){var y=x(this,k).event(p),P=p.changedTouches,I=P.length,E,L;for(Ge(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),E=0;E<I;++E)L=P[E],y.touch0&&y.touch0[2]===L.identifier?delete y.touch0:y.touch1&&y.touch1[2]===L.identifier&&delete y.touch1;if(y.touch1&&!y.touch0&&(y.touch0=y.touch1,delete y.touch1),y.touch0)y.touch0[1]=this.__zoom.invert(y.touch0[0]);else if(y.end(),y.taps===2&&(L=Mt(L,this),Math.hypot(h[0]-L[0],h[1]-L[1])<_)){var H=ct(this).on("dblclick.zoom");H&&H.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:_e(+p),m):r},m.filter=function(p){return arguments.length?(t=typeof p=="function"?p:_e(!!p),m):t},m.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:_e(!!p),m):i},m.extent=function(p){return arguments.length?(e=typeof p=="function"?p:_e([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):e},m.scaleExtent=function(p){return arguments.length?(a[0]=+p[0],a[1]=+p[1],m):[a[0],a[1]]},m.translateExtent=function(p){return arguments.length?(o[0][0]=+p[0][0],o[1][0]=+p[1][0],o[0][1]=+p[0][1],o[1][1]=+p[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(p){return arguments.length?(n=p,m):n},m.duration=function(p){return arguments.length?(s=+p,m):s},m.interpolate=function(p){return arguments.length?(u=p,m):u},m.on=function(){var p=l.on.apply(l,arguments);return p===l?m:p},m.clickDistance=function(p){return arguments.length?(v=(p=+p)*p,m):Math.sqrt(v)},m.tapDistance=function(p){return arguments.length?(_=+p,m):_},m}var ic=typeof global=="object"&&global&&global.Object===Object&&global;const ac=ic;var oc=typeof self=="object"&&self&&self.Object===Object&&self,sc=ac||oc||Function("return this")();const pi=sc;var lc=pi.Symbol;const We=lc;var mi=Object.prototype,uc=mi.hasOwnProperty,cc=mi.toString,te=We?We.toStringTag:void 0;function fc(t){var e=uc.call(t,te),n=t[te];try{t[te]=void 0;var r=!0}catch{}var i=cc.call(t);return r&&(e?t[te]=n:delete t[te]),i}var hc=Object.prototype,dc=hc.toString;function gc(t){return dc.call(t)}var pc="[object Null]",mc="[object Undefined]",fr=We?We.toStringTag:void 0;function bc(t){return t==null?t===void 0?mc:pc:fr&&fr in Object(t)?fc(t):gc(t)}function vc(t){return t!=null&&typeof t=="object"}var _c="[object Symbol]";function yc(t){return typeof t=="symbol"||vc(t)&&bc(t)==_c}var wc=/\s/;function Sc(t){for(var e=t.length;e--&&wc.test(t.charAt(e)););return e}var kc=/^\s+/;function xc(t){return t&&t.slice(0,Sc(t)+1).replace(kc,"")}function cn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hr=0/0,Tc=/^[-+]0x[0-9a-f]+$/i,Cc=/^0b[01]+$/i,Pc=/^0o[0-7]+$/i,Mc=parseInt;function dr(t){if(typeof t=="number")return t;if(yc(t))return hr;if(cn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xc(t);var n=Cc.test(t);return n||Pc.test(t)?Mc(t.slice(2),n?2:8):Tc.test(t)?hr:+t}var $c=function(){return pi.Date.now()};const Ye=$c;var Ac="Expected a function",Ec=Math.max,Ic=Math.min;function zc(t,e,n){var r,i,a,o,s,u,l=0,c=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Ac);e=dr(e)||0,cn(n)&&(c=!!n.leading,h="maxWait"in n,a=h?Ec(dr(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f);function g(x){var S=r,R=i;return r=i=void 0,l=x,o=t.apply(R,S),o}function d(x){return l=x,s=setTimeout(m,e),c?g(x):o}function v(x){var S=x-u,R=x-l,B=e-S;return h?Ic(B,a-R):B}function _(x){var S=x-u,R=x-l;return u===void 0||S>=e||S<0||h&&R>=a}function m(){var x=Ye();if(_(x))return T(x);s=setTimeout(m,v(x))}function T(x){return s=void 0,f&&r?g(x):(r=i=void 0,o)}function C(){s!==void 0&&clearTimeout(s),l=0,r=u=i=s=void 0}function w(){return s===void 0?o:T(Ye())}function b(){var x=Ye(),S=_(x);if(r=arguments,i=this,u=x,S){if(s===void 0)return d(u);if(h)return clearTimeout(s),s=setTimeout(m,e),g(u)}return s===void 0&&(s=setTimeout(m,e)),o}return b.cancel=C,b.flush=w,b}function Nc(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}function Rc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fc(r.key),r)}}function Dc(t,e,n){return e&&gr(t.prototype,e),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lc(t,e){return Wc(t)||Nc(t,e)||Hc(t,e)||Oc()}function Wc(t){if(Array.isArray(t))return t}function Hc(t,e){if(t){if(typeof t=="string")return pr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(t,e)}}function pr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bc(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fc(t){var e=Bc(t,"string");return typeof e=="symbol"?e:String(e)}var jc=Dc(function t(e,n){var r=n.default,i=r===void 0?null:r,a=n.triggerUpdate,o=a===void 0?!0:a,s=n.onChange,u=s===void 0?function(l,c){}:s;Rc(this,t),this.name=e,this.defaultVal=i,this.triggerUpdate=o,this.onChange=u});function Mn(t){var e=t.stateInit,n=e===void 0?function(){return{}}:e,r=t.props,i=r===void 0?{}:r,a=t.methods,o=a===void 0?{}:a,s=t.aliases,u=s===void 0?{}:s,l=t.init,c=l===void 0?function(){}:l,h=t.update,f=h===void 0?function(){}:h,g=Object.keys(i).map(function(d){return new jc(d,i[d])});return function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=Object.assign({},n instanceof Function?n(d):n,{initialised:!1}),_={};function m(w){return T(w,d),C(),m}var T=function(b,x){c.call(m,b,v,x),v.initialised=!0},C=zc(function(){v.initialised&&(f.call(m,v,_),_={})},1);return g.forEach(function(w){m[w.name]=b(w);function b(x){var S=x.name,R=x.triggerUpdate,B=R===void 0?!1:R,D=x.onChange,A=D===void 0?function(p,k){}:D,z=x.defaultVal,N=z===void 0?null:z;return function(p){var k=v[S];if(!arguments.length)return k;var y=p===void 0?N:p;return v[S]=y,A.call(m,y,v,k),!_.hasOwnProperty(S)&&(_[S]=k),B&&C(),m}}}),Object.keys(o).forEach(function(w){m[w]=function(){for(var b,x=arguments.length,S=new Array(x),R=0;R<x;R++)S[R]=arguments[R];return(b=o[w]).call.apply(b,[m,v].concat(S))}}),Object.entries(u).forEach(function(w){var b=Lc(w,2),x=b[0],S=b[1];return m[x]=m[S]}),m.resetProps=function(){return g.forEach(function(w){m[w.name](w.defaultVal)}),m},m.resetProps(),v._rerender=C,m}}function mr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mr(Object(n),!0).forEach(function(r){Vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mr(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jt(t){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(t)}function Vc(t,e,n){return e=Uc(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qc(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uc(t){var e=qc(t,"string");return typeof e=="symbol"?e:String(e)}var Xc=Mn({props:{htmlEl:{onChange:function(e,n){n.htmlEls=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r:ct(r)})},triggerUpdate:!1},svgEl:{onChange:function(e,n){n.svgEls=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r:ct(r)})},triggerUpdate:!1},canvasEl:{onChange:function(e,n){n.canvasCtxs=(e?e instanceof Array?e:[e]:[]).map(function(r){return jt(r)==="object"&&r.node&&typeof r.node=="function"?r.node().getContext("2d"):r.getContext("2d")})},triggerUpdate:!1},enableX:{default:!0,triggerUpdate:!1},enableY:{default:!0,triggerUpdate:!1},scaleExtent:{default:[1,1/0],onChange:function(e,n){e&&n.zoom.scaleExtent(e)},triggerUpdate:!1},translateExtent:{onChange:function(e,n){e&&n.zoom.translateExtent(e)},triggerUpdate:!1},onChange:{triggerUpdate:!1}},methods:{current:function(e){return Ke({},e.zoomTransform)},zoomBy:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e.initialised&&(e.transitionDuration=r,e.el.call(e.zoom.scaleBy,n)),this},zoomReset:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.initialised&&(e.transitionDuration=n,e.el.call(e.zoom.transform,Le)),this},zoomTo:function(e,n){var r=n.x,i=r===void 0?0:r,a=n.y,o=a===void 0?0:a,s=n.k,u=s===void 0?1:s,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return e.initialised&&(e.transitionDuration=l,e.el.call(e.zoom.transform,Le.scale(u).translate(i,o))),this}},stateInit:function(){return{zoom:rc().filter(function(e){return!e.button&&!e.dblclick}),zoomTransform:{x:0,y:0,k:1}}},init:function(e,n){var r=!!e&&jt(e)==="object"&&!!e.node&&typeof e.node=="function";n.el=ct(r?e.node():e),n.el.call(n.zoom.on("zoom",function(i){var a=Ke({},i.transform);!n.enableX&&(a.x=0),!n.enableY&&(a.y=0);var o=n.zoomTransform;n.zoomTransform=a;var s=n.transitionDuration||0;n.transitionDuration=0;var u=n.enableX?a.k:1,l=n.enableY?a.k:1;n.htmlEls.forEach(function(c){(s?c.transition().duration(s):c).style("transform","translate(".concat(a.x,"px, ").concat(a.y,"px) scale(").concat(u,", ").concat(l,")"))}),n.svgEls.forEach(function(c){(s?c.transition().duration(s):c).attr("transform","translate(".concat(a.x,", ").concat(a.y,") scale(").concat(u,", ").concat(l,")"))}),n.canvasCtxs.forEach(function(c,h){var f=function(d){var v=d.x,_=d.y,m=d.scX,T=d.scY;c.setTransform(m,0,0,T,v,_)};s?Pn().duration(s).tween("animate-ctx-".concat(h),function(){var g=K(o.x,a.x),d=K(o.y,a.y),v=n.enableX?K(o.k,a.k):function(){return 1},_=n.enableY?K(o.k,a.k):function(){return 1};return function(m){return f({x:g(m),y:d(m),scX:v(m),scY:_(m)})}}):f(Ke({scX:u,scY:l},a))}),n.onChange&&n.onChange(a,o,s)})),n.el.on("dblclick.zoom",null)}});function He(t){"@babel/helpers - typeof";return He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(t)}var Gc=/^\s+/,Yc=/\s+$/;function $(t,e){if(t=t||"",e=e||{},t instanceof $)return t;if(!(this instanceof $))return new $(t,e);var n=Kc(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}$.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,a,o,s;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=bi(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=vr(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=vr(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=br(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=br(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return _r(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return tf(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(j(this._r,255)*100)+"%",g:Math.round(j(this._g,255)*100)+"%",b:Math.round(j(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%)":"rgba("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:df[_r(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+yr(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=$(e);r="#"+yr(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return $(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(af,arguments)},brighten:function(){return this._applyModification(of,arguments)},darken:function(){return this._applyModification(sf,arguments)},desaturate:function(){return this._applyModification(ef,arguments)},saturate:function(){return this._applyModification(nf,arguments)},greyscale:function(){return this._applyModification(rf,arguments)},spin:function(){return this._applyModification(lf,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(ff,arguments)},complement:function(){return this._applyCombination(uf,arguments)},monochromatic:function(){return this._applyCombination(hf,arguments)},splitcomplement:function(){return this._applyCombination(cf,arguments)},triad:function(){return this._applyCombination(wr,[3])},tetrad:function(){return this._applyCombination(wr,[4])}};$.fromRatio=function(t,e){if(He(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=ae(t[r]));t=n}return $(t,e)};function Kc(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=bf(t)),He(t)=="object"&&(kt(t.r)&&kt(t.g)&&kt(t.b)?(e=Zc(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):kt(t.h)&&kt(t.s)&&kt(t.v)?(r=ae(t.s),i=ae(t.v),e=Qc(t.h,r,i),o=!0,s="hsv"):kt(t.h)&&kt(t.s)&&kt(t.l)&&(r=ae(t.s),a=ae(t.l),e=Jc(t.h,r,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=bi(n),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function Zc(t,e,n){return{r:j(t,255)*255,g:j(e,255)*255,b:j(n,255)*255}}function br(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,o,s=(r+i)/2;if(r==i)a=o=0;else{var u=r-i;switch(o=s>.5?u/(2-r-i):u/(r+i),r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,l:s}}function Jc(t,e,n){var r,i,a;t=j(t,360),e=j(e,100),n=j(n,100);function o(l,c,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(c-l)*6*h:h<1/2?c:h<2/3?l+(c-l)*(2/3-h)*6:l}if(e===0)r=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,u=2*n-s;r=o(u,s,t+1/3),i=o(u,s,t),a=o(u,s,t-1/3)}return{r:r*255,g:i*255,b:a*255}}function vr(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),a,o,s=r,u=r-i;if(o=r===0?0:u/r,r==i)a=0;else{switch(r){case t:a=(e-n)/u+(e<n?6:0);break;case e:a=(n-t)/u+2;break;case n:a=(t-e)/u+4;break}a/=6}return{h:a,s:o,v:s}}function Qc(t,e,n){t=j(t,360)*6,e=j(e,100),n=j(n,100);var r=Math.floor(t),i=t-r,a=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),u=r%6,l=[n,o,a,a,s,n][u],c=[s,n,n,o,a,a][u],h=[a,a,s,n,n,o][u];return{r:l*255,g:c*255,b:h*255}}function _r(t,e,n,r){var i=[gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function tf(t,e,n,r,i){var a=[gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16)),gt(vi(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function yr(t,e,n,r){var i=[gt(vi(r)),gt(Math.round(t).toString(16)),gt(Math.round(e).toString(16)),gt(Math.round(n).toString(16))];return i.join("")}$.equals=function(t,e){return!t||!e?!1:$(t).toRgbString()==$(e).toRgbString()};$.random=function(){return $.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ef(t,e){e=e===0?0:e||10;var n=$(t).toHsl();return n.s-=e/100,n.s=Ve(n.s),$(n)}function nf(t,e){e=e===0?0:e||10;var n=$(t).toHsl();return n.s+=e/100,n.s=Ve(n.s),$(n)}function rf(t){return $(t).desaturate(100)}function af(t,e){e=e===0?0:e||10;var n=$(t).toHsl();return n.l+=e/100,n.l=Ve(n.l),$(n)}function of(t,e){e=e===0?0:e||10;var n=$(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),$(n)}function sf(t,e){e=e===0?0:e||10;var n=$(t).toHsl();return n.l-=e/100,n.l=Ve(n.l),$(n)}function lf(t,e){var n=$(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,$(n)}function uf(t){var e=$(t).toHsl();return e.h=(e.h+180)%360,$(e)}function wr(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=$(t).toHsl(),r=[$(t)],i=360/e,a=1;a<e;a++)r.push($({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function cf(t){var e=$(t).toHsl(),n=e.h;return[$(t),$({h:(n+72)%360,s:e.s,l:e.l}),$({h:(n+216)%360,s:e.s,l:e.l})]}function ff(t,e,n){e=e||6,n=n||30;var r=$(t).toHsl(),i=360/n,a=[$(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push($(r));return a}function hf(t,e){e=e||6;for(var n=$(t).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/e;e--;)o.push($({h:r,s:i,v:a})),a=(a+s)%1;return o}$.mix=function(t,e,n){n=n===0?0:n||50;var r=$(t).toRgb(),i=$(e).toRgb(),a=n/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return $(o)};$.readability=function(t,e){var n=$(t),r=$(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};$.isReadable=function(t,e,n){var r=$.readability(t,e),i,a;switch(a=!1,i=vf(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};$.mostReadable=function(t,e,n){var r=null,i=0,a,o,s,u;n=n||{},o=n.includeFallbackColors,s=n.level,u=n.size;for(var l=0;l<e.length;l++)a=$.readability(t,e[l]),a>i&&(i=a,r=$(e[l]));return $.isReadable(t,r,{level:s,size:u})||!o?r:(n.includeFallbackColors=!1,$.mostReadable(t,["#fff","#000"],n))};var fn=$.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},df=$.hexNames=gf(fn);function gf(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function bi(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){pf(t)&&(t="100%");var n=mf(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function Ve(t){return Math.min(1,Math.max(0,t))}function rt(t){return parseInt(t,16)}function pf(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function mf(t){return typeof t=="string"&&t.indexOf("%")!=-1}function gt(t){return t.length==1?"0"+t:""+t}function ae(t){return t<=1&&(t=t*100+"%"),t}function vi(t){return Math.round(parseFloat(t)*255).toString(16)}function Sr(t){return rt(t)/255}var ht=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function kt(t){return!!ht.CSS_UNIT.exec(t)}function bf(t){t=t.replace(Gc,"").replace(Yc,"").toLowerCase();var e=!1;if(fn[t])t=fn[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=ht.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=ht.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ht.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=ht.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ht.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=ht.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ht.hex8.exec(t))?{r:rt(n[1]),g:rt(n[2]),b:rt(n[3]),a:Sr(n[4]),format:e?"name":"hex8"}:(n=ht.hex6.exec(t))?{r:rt(n[1]),g:rt(n[2]),b:rt(n[3]),format:e?"name":"hex"}:(n=ht.hex4.exec(t))?{r:rt(n[1]+""+n[1]),g:rt(n[2]+""+n[2]),b:rt(n[3]+""+n[3]),a:Sr(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=ht.hex3.exec(t))?{r:rt(n[1]+""+n[1]),g:rt(n[2]+""+n[2]),b:rt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function vf(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var ee=function(t){return typeof t=="function"?t:typeof t=="string"?function(e){return e[t]}:function(e){return t}};function hn(t){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(t)}function _f(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var yf=`.tooltip {
  position: absolute;
  padding: 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.65);
  pointer-events: none;
}
`;_f(yf);var wf=Mn({props:{content:{default:!1}},init:function(e,n){var r=!!e&&hn(e)==="object"&&!!e.node&&typeof e.node=="function",i=ct(r?e.node():e);n.tooltipEl=i.append("div").attr("class","tooltip"),n.mouseInside=!1,i.on("mousemove.tooltip",function(a){n.mouseInside=!0;var o=Mt(a),s=i.node(),u=s.offsetWidth,l=s.offsetHeight;n.tooltipEl.style("left",o[0]+"px").style("top",o[1]+"px").style("transform","translate(-".concat(o[0]/u*100,"%, ").concat(l-o[1]<100?"calc(-100% - 6px)":"21px",")"))}),i.on("mouseover.tooltip",function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),i.on("mouseout.tooltip",function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(e){e.tooltipEl.style("display",e.content&&e.mouseInside?"inline":"none"),e.tooltipEl.html(e.content||"")}});function Sf(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var kf=`.treemap-viz {
  cursor: move;
}

.treemap-viz rect {
  cursor: pointer;
  stroke: lightgrey;
  stroke-opacity: .4;
  opacity: .85;
  transition-property: stroke-opacity, opacity;
  transition-duration: .4s;
}

.treemap-viz rect:hover {
  stroke-opacity: 1;
  opacity: 1;
  transition-duration: .05s;
}

.treemap-viz text {
  font-size: 12px;
  font-family: sans-serif;
  pointer-events: none;
  dominant-baseline: middle;
  text-anchor: middle;
  fill: #404041;
}

.treemap-viz text.light {
  fill: #F7F7F7;
}

.treemap-viz .tooltip {
  max-width: 320px;
  white-space: nowrap;
}

.treemap-viz .tooltip-title {
  font-weight: bold;
  text-align: center;
  margin-bottom: 5px;
}

.treemap-viz {
  position: relative;
}
`;Sf(kf);function xf(t){return Tf(t)||Cf(t)||Pf(t)||Mf()}function Tf(t){if(Array.isArray(t))return dn(t)}function Cf(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pf(t,e){if(t){if(typeof t=="string")return dn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dn(t,e)}}function dn(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $f=wn().domain([4,8]).clamp(!0),Af=wn().domain([6,18]).clamp(!0),Ef=Mn({props:{width:{default:window.innerWidth,onChange:function(e,n){n.needsReparse=!0}},height:{default:window.innerHeight,onChange:function(e,n){n.needsReparse=!0}},data:{onChange:function(e,n){n.needsReparse=!0}},children:{default:"children",onChange:function(e,n){n.needsReparse=!0}},sort:{onChange:function(e,n){n.needsReparse=!0}},label:{default:function(e){return e.name}},size:{default:"value",onChange:function(e,n){this.zoomReset(),n.needsReparse=!0}},padding:{default:2.5,onChange:function(e,n){n.needsReparse=!0}},color:{default:function(e){return"lightgrey"}},nodeClassName:{},minBlockArea:{default:100},excludeRoot:{default:!1,onChange:function(e,n){n.needsReparse=!0}},showLabels:{default:!0},showTooltip:{default:function(e){return!0},triggerUpdate:!1},tooltipTitle:{default:null,triggerUpdate:!1},tooltipContent:{default:function(e){return""},triggerUpdate:!1},onClick:{triggerUpdate:!1},onHover:{triggerUpdate:!1},transitionDuration:{default:800,triggerUpdate:!1}},methods:{zoomBy:function(e,n){return e.zoom.zoomBy(n,e.transitionDuration),this},zoomReset:function(e){return e.zoom.zoomReset(e.transitionDuration),this},zoomToNode:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.__dataNode;if(r){var i=Math.min(e.width/(r.x1-r.x0),e.height/(r.y1-r.y0)),a={k:i,x:-Math.max(0,Math.min(e.width*(1-1/i),r.x0-(e.width/i-(r.x1-r.x0))/2)),y:-Math.max(0,Math.min(e.height*(1-1/i),r.y0-(e.height/i-(r.y1-r.y0))/2))};e.zoom.zoomTo(a,e.transitionDuration)}return this},_parseData:function(e){if(e.data){var n=Sn(e.data,ee(e.children)).sum(ee(e.size));e.sort&&n.sort(e.sort),Nl().paddingInner(e.padding).size([e.width,e.height])(n),n.descendants().forEach(function(r,i){r.id=i,r.data.__dataNode=r}),e.layoutData=n.descendants().filter(e.excludeRoot?function(r){return r.depth>0}:function(){return!0})}}},stateInit:function(){return{zoom:Xc()}},init:function(e,n){var r=this,i=ct(e).append("div").attr("class","treemap-viz");n.svg=i.append("svg"),n.canvas=n.svg.append("g"),n.tooltip=wf()(i),n.zoom(n.svg).svgEl(n.canvas).onChange(function(a,o,s){n.showLabels&&!s&&n.canvas.selectAll("text").attr("transform","scale(".concat(1/a.k,")")),n.skipTransitionsOnce=!s,n._rerender()}),n.svg.on("click",function(){return(n.onClick||r.zoomReset)(null)}).on("mouseover",function(){return n.onHover&&n.onHover(null)})},update:function(e){var n=this;if(e.needsReparse&&(this._parseData(),e.needsReparse=!1),e.svg.style("width",e.width+"px").style("height",e.height+"px"),e.zoom.translateExtent([[0,0],[e.width,e.height]]),!e.layoutData)return;var r=e.zoom.current(),i=e.canvas.selectAll(".node").data(e.layoutData.filter(function(d){return d.x1>-r.x/r.k&&d.x0<-r.x/r.k+e.width/r.k&&d.y1>-r.y/r.k&&d.y0<-r.y/r.k+e.height/r.k&&(d.x1-d.x0)*(d.y1-d.y0)>=e.minBlockArea/r.k}),function(d){return d.id}),a=ee(e.label),o=ee(e.color),s=ee(e.nodeClassName),u=!e.skipTransitionsOnce;e.skipTransitionsOnce=!1;var l=Pn().duration(u?e.transitionDuration:0);i.exit().transition(l).remove();var c=i.enter().append("g").attr("transform",function(d){return"translate(".concat(d.x0+(d.x1-d.x0)/2,",").concat(d.y0+(d.y1-d.y0)/2,")")});c.append("rect").attr("id",function(d){return"rect-".concat(d.id)}).attr("width",0).attr("height",0).style("stroke-width","1px").on("click",function(d,v){d.stopPropagation(),(e.onClick||n.zoomToNode)(v.data)}).on("mouseover",function(d,v){d.stopPropagation(),e.onHover&&e.onHover(v.data),e.tooltip.content(!!e.showTooltip(v.data,v)&&`
          <div class="tooltip-title">
            `.concat(e.tooltipTitle?e.tooltipTitle(v.data,v):g(v).slice(e.excludeRoot?1:0).map(function(_){return a(_.data)}).join(" &rarr; "),`
          </div>
          `).concat(e.tooltipContent(v.data,v),`
        `))}).on("mouseout",function(){return e.tooltip.content(!1)}),c.append("clipPath").attr("id",function(d){return"clip-".concat(d.id)}).append("use").attr("xlink:href",function(d){return"#rect-".concat(d.id)}),c.append("g").attr("clip-path",function(d){return"url(#clip-".concat(d.id,")")}).append("g").attr("class","label-container").append("text").attr("class","path-label");var h=i.merge(c);if(h.attr("class",function(d){return["node"].concat(xf("".concat(s(d.data)||"").split(" ").map(function(v){return v.trim()}))).filter(function(v){return v}).join(" ")}),h.transition(l).attr("transform",function(d){return"translate(".concat(d.x0,",").concat(d.y0,")")}),h.select("rect").transition(l).attr("width",function(d){return d.x1-d.x0}).attr("height",function(d){return d.y1-d.y0}).style("fill",function(d){return o(d.data,d.parent)}).style("stroke-width","".concat(1/r.k,"px")),h.select("g.label-container").style("display",e.showLabels?null:"none").transition(l).attr("transform",function(d){return"translate(".concat((d.x1-d.x0)/2,",").concat((d.y1-d.y0)/2,")")}),e.showLabels){var f=e.prevK||1;e.prevK=r.k,h.select("text.path-label").classed("light",function(d){return!$(o(d.data,d.parent)).isLight()}).text(function(d){return a(d.data)}).transition(l).style("opacity",function(d){return $f((d.x1-d.x0)*r.k/a(d.data).length)*Af((d.y1-d.y0)*r.k)}).attrTween("transform",function(){var d=Be(f,r.k);return function(v){return"scale(".concat(1/d(v),")")}})}function g(d){for(var v=[],_=d;_;)v.unshift(_),_=_.parent;return v}}});function If(t){let e=0;t.split("").forEach(r=>{e=r.charCodeAt(0)+((e<<5)-e)});let n="#";for(let r=0;r<3;r++){const i=e>>r*8&255;n+=i.toString(16).padStart(2,"0")}return n}const zf=[{inputs:[],name:"getUserList",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"share",type:"uint256"},{internalType:"uint256",name:"expireAt",type:"uint256"},{internalType:"uint256",name:"depositedAt",type:"uint256"},{internalType:"uint256",name:"claimedAt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"vipWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"eliteWhitelist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],_i=Ai(Ir,zf,"0x66AD7EF241d6773C24444497b84e40c10fe2521B");async function Nf(){return(await _i).methods.getUserList().call()}function kr(t){return`pulse-info/wallet/${t}`}const Rf=Ni(7);async function Df(t){var h;const e={},n={},r=await Ir,i=await _i,a={};for(const f of t)a[f]=i.methods.users(f).call,n[f]=(h=Ei(kr(f)))==null?void 0:h.value;const o=await xr(r,a,"0x0000000000000000000000000000000000000000");for(const{key:f,data:g,error:d}of o){d&&console.error("ERROR: ",d);const v=(g.amount??0)/Ii;e[f]=v}const s=[];for(const[f,g]of Object.entries(n))g?n[f]=g:s.push(f);const u={};for(const f of s)u[f+"#isElite"]=i.methods.eliteWhitelist(f).call,u[f+"#isVIP"]=i.methods.vipWhitelist(f).call;const l=await xr(r,u,"0x0000000000000000000000000000000000000000"),c={};for(const{key:f,data:g,error:d}of l){const[v,_]=f.split("#");c[v]??(c[v]={isElite:!1,isVIP:!1}),_==="isElite"?c[v].isElite=g:_==="isVIP"&&(c[v].isVIP=g)}for(const[f,g]of Object.entries(c))n[f]=g,zi(kr(f),Rf,g);return{walletAmount:e,walletTypes:n}}function xr(t,e,n){let r=new t.BatchRequest,i=Object.entries(e).map(([a,o])=>new Promise((s,u)=>{let l=o.request({from:n},(c,h)=>{s(c?{key:a,error:c}:{key:a,data:h})});r.add(l)}));return r.execute(),Promise.all(i)}const Lf=()=>{if(typeof window<"u"){const t=document.getElementById("svelte");return t?Wf(t):null}},Oh=ki(Lf(),t=>{const e=h=>h<640,n=h=>h>=640&&h<768,r=h=>h>=768&&h<1024,i=h=>h>=1024&&h<1280,a=h=>h>=1280&&h<1536,o=h=>h>=1536,s=h=>h<768,l={current:t,breakPoint:(h=>e(h)?"default":n(h)?"sm":r(h)?"md":i(h)?"lg":a(h)?"xl":"2xl")(t),isMobileDisplay:s(t),isDefault:e(t),isSmall:n(t),isMedium:r(t),isLarge:i(t),isExtraLarge:a(t),is2xExtraLarge:o(t)},c={current:0,breakPoint:"default",isMobileDisplay:!0,isDefault:!0,isSmall:!1,isMedium:!1,isLarge:!1,isExtraLarge:!1,is2xExtraLarge:!1};return t>0?l:c});function Wf(t){return $r(null,e=>{if(!t)return;const n=new ResizeObserver(()=>t&&e(t.offsetWidth));return n.observe(t),()=>n.disconnect()})}function Hf(t){let e,n;return e=new Di({}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function Of(t){let e;return{c(){e=Ze("Beta")},m(n,r){Z(n,e,r)},d(n){n&&Y(e)}}}function Bf(t){let e,n,r,i;return n=new Li({props:{variant:"gradient",gradient:{from:"violet",to:"blue"},$$slots:{default:[Of]},$$scope:{ctx:t}}}),{c(){e=Ze(`Pulse Map  
                  `),it(n.$$.fragment),r=Ze("  ")},m(a,o){Z(a,e,o),at(n,a,o),Z(a,r,o),i=!0},p(a,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:a}),n.$set(s)},i(a){i||(G(n.$$.fragment,a),i=!0)},o(a){X(n.$$.fragment,a),i=!1},d(a){a&&(Y(e),Y(r)),ot(n,a)}}}function Ff(t){let e,n;return e=new gn({props:{mt:6,mb:6,$$slots:{default:[Bf]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},p(r,i){const a={};i&8&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function jf(t){let e,n;return e=new Wi({}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function Vf(t){let e,n;return e=new gn({props:{mt:6,mb:6,$$slots:{default:[jf]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},p(r,i){const a={};i&8&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function qf(t){let e,n,r,i;return e=new Rn({props:{md:6,xs:12,style:"padding: 8px",class:"hide-tab-content",$$slots:{default:[Ff]},$$scope:{ctx:t}}}),r=new Rn({props:{md:6,xs:12,style:"padding: 8px",class:"hide-tab-content",$$slots:{default:[Vf]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment),n=$t(),it(r.$$.fragment)},m(a,o){at(e,a,o),Z(a,n,o),at(r,a,o),i=!0},p(a,o){const s={};o&8&&(s.$$scope={dirty:o,ctx:a}),e.$set(s);const u={};o&8&&(u.$$scope={dirty:o,ctx:a}),r.$set(u)},i(a){i||(G(e.$$.fragment,a),G(r.$$.fragment,a),i=!0)},o(a){X(e.$$.fragment,a),X(r.$$.fragment,a),i=!1},d(a){a&&Y(n),ot(e,a),ot(r,a)}}}function Uf(t){var f;let e,n,r,i,a,o,s,u,l,c=`${((f=t[0])==null?void 0:f.clientHeight)+8}px`,h;return n=new gn({props:{mt:3,mb:3,$$slots:{default:[Hf]},$$scope:{ctx:t}}}),o=new Ri({props:{$$slots:{default:[qf]},$$scope:{ctx:t}}}),{c(){e=zt("div"),it(n.$$.fragment),r=$t(),i=zt("div"),a=zt("div"),it(o.$$.fragment),u=$t(),l=zt("div"),he(a,"class",s="inner-content "+(t[1]?"small-device":"")+" svelte-148ke8l"),he(i,"class","grid-styles svelte-148ke8l"),he(e,"class","fixed-header svelte-148ke8l"),de(l,"display","block"),de(l,"width","100%"),de(l,"height",c)},m(g,d){Z(g,e,d),at(n,e,null),ye(e,r),ye(e,i),ye(i,a),at(o,a,null),t[2](e),Z(g,u,d),Z(g,l,d),h=!0},p(g,[d]){var m;const v={};d&8&&(v.$$scope={dirty:d,ctx:g}),n.$set(v);const _={};d&8&&(_.$$scope={dirty:d,ctx:g}),o.$set(_),(!h||d&2&&s!==(s="inner-content "+(g[1]?"small-device":"")+" svelte-148ke8l"))&&he(a,"class",s),d&1&&c!==(c=`${((m=g[0])==null?void 0:m.clientHeight)+8}px`)&&de(l,"height",c)},i(g){h||(G(n.$$.fragment,g),G(o.$$.fragment,g),h=!0)},o(g){X(n.$$.fragment,g),X(o.$$.fragment,g),h=!1},d(g){g&&(Y(e),Y(u),Y(l)),ot(n),ot(o),t[2](null)}}}function Xf(t,e,n){let r;Ar(t,Ti,o=>n(1,r=o));let i;function a(o){Er[o?"unshift":"push"](()=>{i=o,n(0,i)})}return[i,r,a]}class Gf extends Cr{constructor(e){super(),Pr(this,e,Xf,Uf,Mr,{})}}const{document:Yf}=Oi;function Kf(t){let e,n;return e=new Ci({props:{use:[[ma,t[3]]],$$slots:{default:[Jf]},$$scope:{ctx:t}}}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},p(r,i){const a={};i&513&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function Zf(t){let e,n;return e=new Mi({}),{c(){it(e.$$.fragment)},m(r,i){at(e,r,i),n=!0},p:Tr,i(r){n||(G(e.$$.fragment,r),n=!0)},o(r){X(e.$$.fragment,r),n=!1},d(r){ot(e,r)}}}function Jf(t){let e;return{c(){e=zt("div")},m(n,r){Z(n,e,r),t[4](e)},p:Tr,d(n){n&&Y(e),t[4](null)}}}function Qf(t){let e,n,r,i,a,o,s,u,l,c,h,f;e=new Gf({}),r=new Hi({});const g=[Zf,Kf],d=[];function v(m,T){return m[1].children.length?1:0}a=v(t),o=d[a]=g[a](t);let _=t[1].children.length!==0&&!1;return{c(){it(e.$$.fragment),n=$t(),it(r.$$.fragment),i=$t(),o.c(),s=$t(),u=zt("br"),l=$t(),_&&_.c(),c=$t(),h=zt("style"),h.textContent=`.treemap-viz text {
           white-space: pre;
       }`},m(m,T){at(e,m,T),Z(m,n,T),at(r,m,T),Z(m,i,T),d[a].m(m,T),Z(m,s,T),Z(m,u,T),Z(m,l,T),_&&_.m(m,T),Z(m,c,T),ye(Yf.head,h),f=!0},p(m,[T]){let C=a;a=v(m),a===C?d[a].p(m,T):(zn(),X(d[C],1,1,()=>{d[C]=null}),Nn(),o=d[a],o?o.p(m,T):(o=d[a]=g[a](m),o.c()),G(o,1),o.m(s.parentNode,s)),m[1].children.length,_&&(zn(),X(_,1,1,()=>{_=null}),Nn())},i(m){f||(G(e.$$.fragment,m),G(r.$$.fragment,m),G(o),G(_),f=!0)},o(m){X(e.$$.fragment,m),X(r.$$.fragment,m),X(o),X(_),f=!1},d(m){m&&(Y(n),Y(i),Y(s),Y(u),Y(l),Y(c)),ot(e,m),ot(r,m),d[a].d(m),_&&_.d(m),Y(h)}}}function th(t,e,n){let r;const i=$r({name:"root",children:[]});Ar(t,i,f=>n(1,r=f));let a;const o={},s=Ef();s.color(f=>o[f.wallet]??(o[f.wallet]=If(f.wallet))),s.onClick(f=>{}),s.excludeRoot(!0),s.sort((f,g)=>g.value-f.value),s.tooltipContent(f=>{const g=[];return f.isVIP?g.push("Recurring: VIP"):f.isElite&&g.push("Recurring: Elite"),g.push("Wallet: "+f.walletShort.substring(0,6)),g.join("<br/>")});async function u(){const f=await Nf(),g={},d={},v=20;for(let _=0;_<f.length;_+=v){const m=f.slice(_,_+v),T=await Df(m);Object.assign(g,T.walletAmount),Object.assign(d,T.walletTypes)}i.update(_=>{var m,T;for(const[C,w]of Object.entries(g))_.children.push({name:"$ "+Pi(w),value:w,wallet:C,walletShort:C.substring(0,6),isVIP:((m=d[C])==null?void 0:m.isVIP)??!1,isElite:((T=d[C])==null?void 0:T.isElite)??!1});return s.data(_),_})}u();function l(f){const g=document.getElementById("svelte").clientWidth;s.width(g-46)}const c=ji(l,400);function h(f){Er[f?"unshift":"push"](()=>{a=f,n(0,a)})}return t.$$.update=()=>{t.$$.dirty&1&&a&&(n(0,a.textContent="",a),s.data(xi(i))(a),c())},[a,r,i,c,h]}class Bh extends Cr{constructor(e){super(),Pr(this,e,th,Qf,Mr,{})}}export{Bh as default};
